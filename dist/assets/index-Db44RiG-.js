import{r as p,u as ws,j as e,N as Vs,B as Xt,a as Jt,b as ue,d as ea}from"./vendor-react-B0Xi4u7S.js";import{H as sa,L as ta,C as tt,a as Zs,G as ee,S as at,I as it,M as lt,U as aa,P as nt,B as ia,V as ys,b as Z,A as la,T as ss,c as rt,d as ts,e as na,F as Oe,f as ra,g as oa,h as da,i as ot,j as ca,k as dt,l as pa,m as bs,n as Cs,E as ct,R as as,o as As,p as P,q as U,r as pt,s as ma,t as ua,X as is,u as ha,v as xa,w as ga,x as fa,y as va,z as Qs,D as ja,J as Le,K as Ns,N as ya,O as ba,Q as Na,W as Sa,Y as mt,Z as ka,_ as wa,$ as vs,a0 as Xs,a1 as Ca}from"./vendor-ui-D9J4nCI2.js";import{i as Aa}from"./vendor-editor-BvsJV83P.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const x of m)if(x.type==="childList")for(const o of x.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function n(m){const x={};return m.integrity&&(x.integrity=m.integrity),m.referrerPolicy&&(x.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?x.credentials="include":m.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function u(m){if(m.ep)return;m.ep=!0;const x=n(m);fetch(m.href,x)}})();const Ia=({menuItems:t,user:i,onLogout:n})=>{const u=i?.role||"secondary",[m,x]=p.useState({}),o=ws(),f=l=>{x(d=>({...d,[l]:!d[l]}))},g={Layout:bs,Home:pa,Menu:dt,Maximize:ca,Type:ot,Star:da,Anchor:oa,Info:ra,FileText:Oe,List:na,Calendar:ts,Clock:rt,Trophy:ss,Award:la,Image:Z,Video:ys,BookOpen:ia,Phone:nt,Users:aa,Monitor:lt,Inbox:it,Settings:at,Globe:ee},h=({name:l,className:d})=>{const S=g[l];return S?e.jsx(S,{className:d,size:18}):e.jsx(Zs,{className:d,size:18})},b=l=>{const d=l.children&&l.children.length>0,S=m[l.title],v=A=>A?A.includes("?")?o.pathname+o.search===A:o.pathname===A:!1,w=v(l.path)||d&&l.children?.some(A=>v(A.path));return d?e.jsxs("li",{className:`sidebar-item ${w?"active":""}`,children:[e.jsxs("div",{className:`sidebar-link has-children ${S?"active expanded":""}`,onClick:()=>f(l.title),children:[l.icon&&e.jsx(h,{name:l.icon,className:"sidebar-icon"}),e.jsx("span",{className:"sidebar-text",children:l.title}),e.jsx(tt,{className:`sidebar-chevron ${S?"rotate":""}`,size:16})]}),e.jsx("ul",{className:`sidebar-submenu ${S?"show":""}`,children:l.children?.map(A=>e.jsx("li",{className:"sidebar-submenu-item",children:e.jsxs(Vs,{to:A.path||"#",className:()=>`sidebar-submenu-link ${v(A.path)?"active":""}`,children:[e.jsx(Zs,{size:8,className:"submenu-dot"}),e.jsx("span",{children:A.title})]})},A.title))})]},l.title):e.jsx("li",{className:"sidebar-item",children:e.jsxs(Vs,{to:l.path||"#",className:()=>`sidebar-link ${v(l.path)?"active":""}`,children:[l.icon&&e.jsx(h,{name:l.icon,className:"sidebar-icon"}),e.jsx("span",{className:"sidebar-text",children:l.title}),l.badge&&e.jsx("span",{className:`badge ${l.badge.color} sidebar-badge`,children:l.badge.text})]})},l.title)},k=l=>{const d=["/frontend-settings","/users-management"];return l.map(v=>{const w=v.children?k(v.children):void 0;return u==="secondary"&&d.some(I=>v.path?.toLowerCase()===I)||!v.path&&(!w||w.length===0)?null:{...v,children:w}}).filter(Boolean)};return e.jsxs("aside",{className:"sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"brand-logo",children:[e.jsx(sa,{className:"logo-icon",size:24,fill:"currentColor"}),e.jsxs("span",{className:"brand-name",children:["FORSAJ",e.jsx("span",{children:"PANEL"})]})]})}),e.jsxs("div",{className:"sidebar-user",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${i?.name||"Admin"}&background=${u==="master"?"3b82f6":"f59e0b"}&color=fff`,alt:"İstifadəçi"}),e.jsxs("div",{className:"user-info",children:[e.jsx("span",{className:"user-name",children:i?.name||"İdarəçi"}),e.jsx("span",{className:"user-role",children:u==="master"?"Baş Admin":"Redaktor"})]})]}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"sidebar-section-label",children:"ƏSAS NAVİQASİYA"}),e.jsxs("ul",{className:"sidebar-menu",children:[k(t).map(l=>b(l)),t.length===0&&e.jsx("div",{className:"empty-sidebar-msg",children:e.jsx("p",{children:"Menyu boşdur"})})]})]}),e.jsx("div",{className:"sidebar-footer",children:e.jsxs("button",{className:"logout-btn",onClick:n,children:[e.jsx(ta,{size:18}),e.jsx("span",{children:"Çıxış"})]})})]})},za=({user:t})=>e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("button",{className:"icon-btn toggle-sidebar",children:e.jsx(dt,{size:20})}),e.jsxs("div",{className:"header-search",children:[e.jsx(Cs,{size:18,className:"search-icon"}),e.jsx("input",{type:"text",placeholder:"Hər şeyi axtar..."})]})]}),e.jsxs("div",{className:"header-right",children:[e.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"view-site-btn",children:[e.jsx(ct,{size:16})," Sayta Bax"]}),e.jsxs("div",{className:"header-profile",children:[e.jsxs("div",{className:"profile-info",children:[e.jsx("span",{className:"profile-name",children:t?.name||"Forsaj İdarəçisi"}),e.jsx("span",{className:"profile-status",children:t?.role==="master"?"Baş Admin":"Sayt Redaktoru"})]}),e.jsx("img",{src:`https://ui-avatars.com/api/?name=${t?.name||"Admin"}&background=random`,alt:"Profil"})]})]})]});let Ta={data:""},Ea=t=>{if(typeof window=="object"){let i=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return i.nonce=window.__nonce__,i.parentNode||(t||document.head).appendChild(i),i.firstChild}return t||Ta},Oa=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ra=/\/\*[^]*?\*\/|  +/g,Js=/\n+/g,re=(t,i)=>{let n="",u="",m="";for(let x in t){let o=t[x];x[0]=="@"?x[1]=="i"?n=x+" "+o+";":u+=x[1]=="f"?re(o,x):x+"{"+re(o,x[1]=="k"?"":i)+"}":typeof o=="object"?u+=re(o,i?i.replace(/([^,])+/g,f=>x.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,f):f?f+" "+g:g)):x):o!=null&&(x=/^--/.test(x)?x:x.replace(/[A-Z]/g,"-$&").toLowerCase(),m+=re.p?re.p(x,o):x+":"+o+";")}return n+(i&&m?i+"{"+m+"}":m)+u},J={},ut=t=>{if(typeof t=="object"){let i="";for(let n in t)i+=n+ut(t[n]);return i}return t},La=(t,i,n,u,m)=>{let x=ut(t),o=J[x]||(J[x]=(g=>{let h=0,b=11;for(;h<g.length;)b=101*b+g.charCodeAt(h++)>>>0;return"go"+b})(x));if(!J[o]){let g=x!==t?t:(h=>{let b,k,l=[{}];for(;b=Oa.exec(h.replace(Ra,""));)b[4]?l.shift():b[3]?(k=b[3].replace(Js," ").trim(),l.unshift(l[0][k]=l[0][k]||{})):l[0][b[1]]=b[2].replace(Js," ").trim();return l[0]})(t);J[o]=re(m?{["@keyframes "+o]:g}:g,n?"":"."+o)}let f=n&&J.g?J.g:null;return n&&(J.g=J[o]),((g,h,b,k)=>{k?h.data=h.data.replace(k,g):h.data.indexOf(g)===-1&&(h.data=b?g+h.data:h.data+g)})(J[o],i,u,f),o},Da=(t,i,n)=>t.reduce((u,m,x)=>{let o=i[x];if(o&&o.call){let f=o(n),g=f&&f.props&&f.props.className||/^go/.test(f)&&f;o=g?"."+g:f&&typeof f=="object"?f.props?"":re(f,""):f===!1?"":f}return u+m+(o??"")},"");function rs(t){let i=this||{},n=t.call?t(i.p):t;return La(n.unshift?n.raw?Da(n,[].slice.call(arguments,1),i.p):n.reduce((u,m)=>Object.assign(u,m&&m.call?m(i.p):m),{}):n,Ea(i.target),i.g,i.o,i.k)}let ht,Ss,ks;rs.bind({g:1});let se=rs.bind({k:1});function Ba(t,i,n,u){re.p=i,ht=t,Ss=n,ks=u}function oe(t,i){let n=this||{};return function(){let u=arguments;function m(x,o){let f=Object.assign({},x),g=f.className||m.className;n.p=Object.assign({theme:Ss&&Ss()},f),n.o=/ *go\d+/.test(g),f.className=rs.apply(n,u)+(g?" "+g:"");let h=t;return t[0]&&(h=f.as||t,delete f.as),ks&&h[0]&&ks(f),ht(h,f)}return m}}var _a=t=>typeof t=="function",ns=(t,i)=>_a(t)?t(i):t,Ma=(()=>{let t=0;return()=>(++t).toString()})(),xt=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");t=!i||i.matches}return t}})(),Pa=20,Is="default",gt=(t,i)=>{let{toastLimit:n}=t.settings;switch(i.type){case 0:return{...t,toasts:[i.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===i.toast.id?{...o,...i.toast}:o)};case 2:let{toast:u}=i;return gt(t,{type:t.toasts.find(o=>o.id===u.id)?1:0,toast:u});case 3:let{toastId:m}=i;return{...t,toasts:t.toasts.map(o=>o.id===m||m===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return i.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==i.toastId)};case 5:return{...t,pausedAt:i.time};case 6:let x=i.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+x}))}}},ls=[],ft={toasts:[],pausedAt:void 0,settings:{toastLimit:Pa}},Q={},vt=(t,i=Is)=>{Q[i]=gt(Q[i]||ft,t),ls.forEach(([n,u])=>{n===i&&u(Q[i])})},jt=t=>Object.keys(Q).forEach(i=>vt(t,i)),Ya=t=>Object.keys(Q).find(i=>Q[i].toasts.some(n=>n.id===t)),os=(t=Is)=>i=>{vt(i,t)},$a={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fa=(t={},i=Is)=>{let[n,u]=p.useState(Q[i]||ft),m=p.useRef(Q[i]);p.useEffect(()=>(m.current!==Q[i]&&u(Q[i]),ls.push([i,u]),()=>{let o=ls.findIndex(([f])=>f===i);o>-1&&ls.splice(o,1)}),[i]);let x=n.toasts.map(o=>{var f,g,h;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((f=t[o.type])==null?void 0:f.removeDelay)||t?.removeDelay,duration:o.duration||((g=t[o.type])==null?void 0:g.duration)||t?.duration||$a[o.type],style:{...t.style,...(h=t[o.type])==null?void 0:h.style,...o.style}}});return{...n,toasts:x}},qa=(t,i="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||Ma()}),De=t=>(i,n)=>{let u=qa(i,t,n);return os(u.toasterId||Ya(u.id))({type:2,toast:u}),u.id},L=(t,i)=>De("blank")(t,i);L.error=De("error");L.success=De("success");L.loading=De("loading");L.custom=De("custom");L.dismiss=(t,i)=>{let n={type:3,toastId:t};i?os(i)(n):jt(n)};L.dismissAll=t=>L.dismiss(void 0,t);L.remove=(t,i)=>{let n={type:4,toastId:t};i?os(i)(n):jt(n)};L.removeAll=t=>L.remove(void 0,t);L.promise=(t,i,n)=>{let u=L.loading(i.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(m=>{let x=i.success?ns(i.success,m):void 0;return x?L.success(x,{id:u,...n,...n?.success}):L.dismiss(u),m}).catch(m=>{let x=i.error?ns(i.error,m):void 0;x?L.error(x,{id:u,...n,...n?.error}):L.dismiss(u)}),t};var Ua=1e3,Ga=(t,i="default")=>{let{toasts:n,pausedAt:u}=Fa(t,i),m=p.useRef(new Map).current,x=p.useCallback((k,l=Ua)=>{if(m.has(k))return;let d=setTimeout(()=>{m.delete(k),o({type:4,toastId:k})},l);m.set(k,d)},[]);p.useEffect(()=>{if(u)return;let k=Date.now(),l=n.map(d=>{if(d.duration===1/0)return;let S=(d.duration||0)+d.pauseDuration-(k-d.createdAt);if(S<0){d.visible&&L.dismiss(d.id);return}return setTimeout(()=>L.dismiss(d.id,i),S)});return()=>{l.forEach(d=>d&&clearTimeout(d))}},[n,u,i]);let o=p.useCallback(os(i),[i]),f=p.useCallback(()=>{o({type:5,time:Date.now()})},[o]),g=p.useCallback((k,l)=>{o({type:1,toast:{id:k,height:l}})},[o]),h=p.useCallback(()=>{u&&o({type:6,time:Date.now()})},[u,o]),b=p.useCallback((k,l)=>{let{reverseOrder:d=!1,gutter:S=8,defaultPosition:v}=l||{},w=n.filter(E=>(E.position||v)===(k.position||v)&&E.height),A=w.findIndex(E=>E.id===k.id),I=w.filter((E,G)=>G<A&&E.visible).length;return w.filter(E=>E.visible).slice(...d?[I+1]:[0,I]).reduce((E,G)=>E+(G.height||0)+S,0)},[n]);return p.useEffect(()=>{n.forEach(k=>{if(k.dismissed)x(k.id,k.removeDelay);else{let l=m.get(k.id);l&&(clearTimeout(l),m.delete(k.id))}})},[n,x]),{toasts:n,handlers:{updateHeight:g,startPause:f,endPause:h,calculateOffset:b}}},Ha=se`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ka=se`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wa=se`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Va=oe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ha} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ka} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Wa} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Za=se`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Qa=oe("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Za} 1s linear infinite;
`,Xa=se`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ja=se`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ei=oe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ja} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,si=oe("div")`
  position: absolute;
`,ti=oe("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ai=se`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ii=oe("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ai} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,li=({toast:t})=>{let{icon:i,type:n,iconTheme:u}=t;return i!==void 0?typeof i=="string"?p.createElement(ii,null,i):i:n==="blank"?null:p.createElement(ti,null,p.createElement(Qa,{...u}),n!=="loading"&&p.createElement(si,null,n==="error"?p.createElement(Va,{...u}):p.createElement(ei,{...u})))},ni=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ri=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,oi="0%{opacity:0;} 100%{opacity:1;}",di="0%{opacity:1;} 100%{opacity:0;}",ci=oe("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pi=oe("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mi=(t,i)=>{let n=t.includes("top")?1:-1,[u,m]=xt()?[oi,di]:[ni(n),ri(n)];return{animation:i?`${se(u)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${se(m)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ui=p.memo(({toast:t,position:i,style:n,children:u})=>{let m=t.height?mi(t.position||i||"top-center",t.visible):{opacity:0},x=p.createElement(li,{toast:t}),o=p.createElement(pi,{...t.ariaProps},ns(t.message,t));return p.createElement(ci,{className:t.className,style:{...m,...n,...t.style}},typeof u=="function"?u({icon:x,message:o}):p.createElement(p.Fragment,null,x,o))});Ba(p.createElement);var hi=({id:t,className:i,style:n,onHeightUpdate:u,children:m})=>{let x=p.useCallback(o=>{if(o){let f=()=>{let g=o.getBoundingClientRect().height;u(t,g)};f(),new MutationObserver(f).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,u]);return p.createElement("div",{ref:x,className:i,style:n},m)},xi=(t,i)=>{let n=t.includes("top"),u=n?{top:0}:{bottom:0},m=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(n?1:-1)}px)`,...u,...m}},gi=rs`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xe=16,fi=({reverseOrder:t,position:i="top-center",toastOptions:n,gutter:u,children:m,toasterId:x,containerStyle:o,containerClassName:f})=>{let{toasts:g,handlers:h}=Ga(n,x);return p.createElement("div",{"data-rht-toaster":x||"",style:{position:"fixed",zIndex:9999,top:Xe,left:Xe,right:Xe,bottom:Xe,pointerEvents:"none",...o},className:f,onMouseEnter:h.startPause,onMouseLeave:h.endPause},g.map(b=>{let k=b.position||i,l=h.calculateOffset(b,{reverseOrder:t,gutter:u,defaultPosition:i}),d=xi(k,l);return p.createElement(hi,{id:b.id,key:b.id,onHeightUpdate:h.updateHeight,className:b.visible?gi:"",style:d},b.type==="custom"?ns(b.message,b):m?m(b):p.createElement(ui,{toast:b,position:k}))}))},y=L;const vi={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"]]},Je=({value:t,onChange:i,id:n,readOnly:u=!1})=>e.jsx("div",{className:"quill-editor-wrapper",id:n,children:e.jsx(Aa,{theme:"snow",value:t||"",onChange:i,modules:u?{toolbar:!1}:vi,readOnly:u,placeholder:"Məzmunu daxil edin..."})}),Re=t=>{if(/^[A-Z0-9_]+$/.test(t.id))return t.id.trim();const i=(t.label||"").trim();return i.startsWith("KEY:")?i.replace(/^KEY:\s*/i,"").trim():""},ji=/\b[A-Z0-9]+(?:_[A-Z0-9]+)+\b/,et=t=>ji.test((t||"").trim()),yi=t=>t.replace(/_/g," ").replace(/\s+/g," ").trim(),st=t=>{if(!t)return"";let i=t;for(let u=0;u<4;u++){const x=(new DOMParser().parseFromString(i,"text/html").body.textContent||"").trim();if(!x||x===i)break;i=x}return(new DOMParser().parseFromString(i,"text/html").body.textContent||"").replace(/\u00a0/g," ").replace(/\s+/g," ").trim()},he="label-stat-",xe="value-stat-",js=t=>t.startsWith(he)||t.startsWith(xe),bi=t=>t.startsWith(he)?t.slice(he.length):t.startsWith(xe)?t.slice(xe.length):"",es=(t,i)=>Re(t)?i==="value":!0,Ni=t=>!Re(t),Te={hero:"Giriş Hissəsi",marquee:"Sürüşən Yazı",navbar:"Naviqasiya",about:"HAQQIMIZDA",mission_vision:"Missiya və Vizyon",values:"Dəyərlərimiz",eventspage:"Tədbirlər Səhifəsi",newspage:"Xəbər Səhifəsi",gallerypage:"Qalereya Səhifəsi",contactpage:"Əlaqə Səhifəsi",rulespage:"Qaydalar Səhifəsi",news:"Xəbərlər Paneli",drivers:"Sürücülər Paneli",categoryleaders:"Kateqoriya Liderləri",gallery:"Qalereya Paneli",videos:"Videolar Paneli",videoarchive:"Video Arxiv",footer:"Sayt Sonu",partners:"Tərəfdaşlar",offroadinfo:"Offroad Nədir?",whatisoffroad:"Offroad Nədir?",nextrace:"Növbəti Yarış",site:"Sayt Ayarları",settings:"Ümumi Parametrlər",general:"SİSTEM AYARLARI",app:"Tətbiq Ayarları"},Si={hero:"home",marquee:"home",navbar:"home",mission_vision:"home",values:"home",partners:"home",offroadinfo:"home",whatisoffroad:"home",nextrace:"home",about:"about",news:"news",newspanel:"news",newspage:"news",events:"events",eventspage:"events",drivers:"drivers",driverspage:"drivers",categoryleaders:"drivers",rules:"rules",rulespage:"rules",contact:"contact",contactpage:"contact",gallery:"gallery",gallerypage:"gallery",videos:"gallery",videoarchive:"gallery",footer:"home"},ki=()=>{const[t,i]=p.useState([]),[n,u]=p.useState(0),[m,x]=p.useState(!1),[o,f]=p.useState(!1),[g,h]=p.useState(0),[b,k]=p.useState(""),[l,d]=p.useState(!1),[S,v]=p.useState(!1),[w,A]=p.useState(!1),[I,E]=p.useState(!1),[G,ge]=p.useState(null),[ds,zs]=p.useState([]),[te,Ts]=p.useState(null),[Be,Es]=p.useState(""),[M,yt]=p.useState(""),[be,bt]=p.useState(!0),[Nt,St]=p.useState(0),[ae,_e]=p.useState([]),[Ne,Me]=p.useState(null),[R,Pe]=p.useState({}),[ie,Ye]=p.useState([]),[Se,$e]=p.useState(null),[Y,Fe]=p.useState({}),[le,qe]=p.useState([]),[ke,cs]=p.useState(null),[F,ps]=p.useState({}),ms=ws(),Os=new URLSearchParams(ms.search),us=Os.get("mode"),Rs=Os.get("page"),[z,H]=p.useState("extract"),[Ue,Ge]=p.useState([]),[we,Ls]=p.useState(null),[de,hs]=p.useState({});p.useEffect(()=>{H(us||"extract")},[us,Rs]);const[K,ce]=p.useState([]),[B,Ce]=p.useState(null),[fe,Ae]=p.useState(null),[$,ve]=p.useState({}),Ds=async()=>{try{const a=await(await fetch("/api/site-content")).json();if(Array.isArray(a)){const ye=["hero","marquee","navbar","about","mission_vision","values","rulespage","eventspage","newspage","gallerypage","contactpage","news","drivers","categoryleaders","gallery","videos","videoarchive","footer","partners","offroadinfo","whatisoffroad","nextrace","site","settings","general","app"],Ze=[...a],Ks=q=>{const W=q.sections||[],T=(X,ze,Qe)=>{W.some(Qt=>Qt.id===X)||W.push({id:X,type:"text",label:ze,value:Qe})};if(T("txt-est-2018-motorsp-949","About Üst Başlıq","EST. 2018 // MOTORSPORT MƏRKƏZİ"),T("txt-forsaj-club-az-rba-66","About Ana Başlıq",'"FORSAJ CLUB" AZƏRBAYCANIN OFFROAD MƏDƏNİYYƏTİNİ PEŞƏKAR SƏVİYYƏYƏ ÇATDIRMAQ ÜÇÜN YARADILMIŞDIR.'),T("txt-bi-zi-m-mi-ssi-yamiz-424","Missiya Başlığı","BİZİM MİSSİYAMIZ"),T("txt-az-rbaycan-n-h-r-bir-45","Missiya Təsviri","Azərbaycanın hər bir guşəsində offroad idmanını təbliğ etmək, yerli pilotları beynəlxalq standartlara uyğun yetişdirmək və təbiəti qoruyaraq ekstremal adrenalin təcrübəsi bəxş etmək."),T("txt-h-d-fi-mi-z-dakar-ral-50","Missiya Hədəf Mətni","HƏDƏFİMİZ: DAKAR RALLİ 2026"),T("txt-bi-zi-m-baxi-imiz-944","Vizyon Başlığı","BİZİM BAXIŞIMIZ"),T("txt-regionun-n-b-y-k-mo-901","Vizyon Təsviri","Regionun ən böyük motorsport hubuna çevrilmək, rəqəmsal və fiziki infrastrukturlarla pilotlarımızı dəstəkləmək və motorsportu hər kəs üçün əlçatan bir ehtirasa çevirmək."),T("txt-qafqazin-li-der-klubu-758","Vizyon Şüarı","QAFQAZIN LİDER KLUBUNA ÇEVRİLMƏK"),T("txt-fundamental-pri-nsi-pl-219","Dəyərlər Alt Başlıq","FUNDAMENTAL PRİNSİPLƏR"),T("txt-sas-d-y-rl-ri-mi-z-482","Dəyərlər Başlığı","ƏSAS DƏYƏRLƏRİMİZ"),T("val-icon-1","Dəyər 1 İkonu","Shield"),T("val-title-1","Dəyər 1 Başlıq","TƏHLÜKƏSİZLİK"),T("val-desc-1","Dəyər 1 Təsvir","EKSTREMAL İDMANDA CAN SAĞLIĞI BİZİM BİR NÖMRƏLİ QAYDAMIZDIR. BÜTÜN TEXNİKALARIMIZ FIA STANDARTLARINA UYĞUN YOXLANILIR."),T("val-icon-2","Dəyər 2 İkonu","Users"),T("val-title-2","Dəyər 2 Başlıq","İCMA RUHU"),T("val-desc-2","Dəyər 2 Təsvir","FORSAJ BİR KLUBDAN DAHA ÇOX, SADİQ VƏ BÖYÜK BİR AİLƏDİR. BİRİMİZ HAMIMIZ, HAMIMIZ BİRİMİZ ÜÇÜN!"),T("val-icon-3","Dəyər 3 İkonu","Leaf"),T("val-title-3","Dəyər 3 Başlıq","TƏBİƏTİ QORU"),T("val-desc-3","Dəyər 3 Təsvir","BİZ OFFROAD EDƏRKƏN TƏBİƏTƏ ZƏRƏR VERMƏMƏYİ ÖZÜMÜZƏ BORC BİLİRİK. EKOLOJİ BALANS BİZİM ÜÇÜN MÜQƏDDƏSDİR."),T("val-icon-4","Dəyər 4 İkonu","Zap"),T("val-title-4","Dəyər 4 Başlıq","MÜKƏMMƏLLİK"),T("val-desc-4","Dəyər 4 Təsvir","HƏR YARIŞDA, HƏR DÖNGƏDƏ DAHA YAXŞI OLMAĞA ÇALIŞIRIQ. TƏLİMLƏRİMİZ PEŞƏKAR İNSTRUKTORLAR TƏRƏFİNDƏN İDARƏ OLUNUR."),W.some(X=>X.id.includes("label-stat"))&&W.some(X=>X.id.includes("value-stat"))){q.sections=W;return}[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}].forEach((X,ze)=>{const Qe=`${ze+1}`;W.push({id:`label-stat-${Qe}`,type:"text",label:`Statistika Etiketi ${ze+1}`,value:X.label}),W.push({id:`value-stat-${Qe}`,type:"text",label:`Statistika Dəyəri ${ze+1}`,value:X.value})}),q.sections=W};ye.forEach(q=>{const W=Ze.find(T=>T.id===q);W?q==="about"&&Ks(W):Ze.push({id:q,title:Te[q]||q,sections:[{id:`${q}-default`,type:"text",label:"Bölmə",value:""}],images:[]})});const Ws=Ze.find(q=>q.id==="about");Ws&&Ks(Ws),i(Ze)}fetch(`/api/all-images?v=${Date.now()}`).then(ye=>ye.json()).then(ye=>{ye.local&&zs(ye.local)});const c=await(await fetch("/api/events")).json();Array.isArray(c)&&(_e(c),c.length>0&&Ne===null&&(Me(c[0].id),Pe(c[0])));const N=await(await fetch("/api/news")).json();Array.isArray(N)&&(Ye(N),N.length>0&&Se===null&&($e(N[0].id),Fe({...N[0]})));const O=await(await fetch("/api/drivers")).json();Array.isArray(O)&&(ce(O),O.length>0&&B===null&&Ce(O[0].id));const ne=await(await fetch("/api/gallery-photos")).json();Array.isArray(ne)&&Ge(ne);const Ve=await(await fetch("/api/videos")).json();Array.isArray(Ve)&&(qe(Ve),Ve.length>0&&ke===null&&Ys(Ve[0].id))}catch(s){console.error("Content load error:",s)}};p.useEffect(()=>{Ds(),!localStorage.getItem("forsaj_extracted")&&t.length===0&&!o&&setTimeout(()=>{t.length===0&&xs()},1e3)},[t.length]),p.useEffect(()=>{const s=new URLSearchParams(ms.search),a=s.get("mode"),r=s.get("page");if(a&&["extract","events","news","drivers","videos","photos"].includes(a))H(a);else if(r){H("extract");const c=t.findIndex(j=>j.id===r);c!==-1&&u(c)}},[ms.search,t]),p.useEffect(()=>{z!=="news"&&z!=="events"&&I&&(E(!1),ge(null))},[z,I]);const xs=async()=>{f(!0),k("Front-end komponentləri skan edilir..."),h(30);const s=Date.now(),a=y.loading("Sinxronizasiya başladı...");try{const r=await fetch("/api/extract-content",{method:"POST"});if(!r.ok){const C=await r.text();throw new Error(C||"Extraction failed")}h(60),k("Bulud bazası ilə sinxronizasiya edilir...");const c=await r.json(),j=c.pages||c;await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),h(90),i(j);const N=Date.now()-s;N<800&&await new Promise(C=>setTimeout(C,800-N)),h(100),k("Tamamlandı!"),setTimeout(()=>{f(!1),localStorage.setItem("forsaj_extracted","true"),y.success("Sinxronizasiya tamamlandı! Baza yeniləndi.",{id:a}),setTimeout(()=>window.location.reload(),1500)},500)}catch(r){console.error("Extraction error:",r),f(!1),y.error(`Sinxronizasiya xətası: ${r.message}`,{id:a})}},He=(s,a,r,c)=>{const j=[...t],N=j[s].sections.findIndex(C=>C.id===a);if(N!==-1){const C=j[s].sections[N];if(!es(C,r))return;let O=c;const ne=!!Re(C)||js(C.id)||C.id.startsWith("val-")||C.id.startsWith("txt-");(r==="value"||r==="label")&&ne&&(O=st(c)),j[s].sections[N][r]=O,i(j)}},kt=(s,a,r)=>{const c=[...t],j=c[s].images.findIndex(N=>N.id===a);j!==-1&&(c[s].images[j].alt=r,i(c))},wt=()=>{if(!Be.trim()){y.error("Başlıq daxil edin!");return}const a={id:Be.toLowerCase().replace(/\s+/g,"-"),title:Be,sections:[{id:"text-0",type:"text",label:"Bölmə",value:"Yeni bölmə məzmunu..."}],images:[]};i([...t,a]),u(t.length),d(!1),Es(""),y.success("Yeni bölmə əlavə edildi!")},Ct=(s,a)=>{if(a.stopPropagation(),window.confirm("Bu bölməni silmək istədiyinizə əminsiniz?")){const r=t.filter((c,j)=>j!==s);i(r),n>=r.length&&u(Math.max(0,r.length-1)),y.success("Bölmə silindi")}},Ie=(s,a,r)=>{if(n<0||n>=t.length)return;const c=[...t],j=c[n];if(j){if(s==="text"){const N=r||`text-${j.sections.length}-${Date.now()}`;j.sections.push({id:N,type:"text",label:a||"Bölmə",value:"Yeni mətn sahəsi..."}),y.success(`${a||"Yeni mətn"} sahəsi əlavə edildi`)}else{const N=r||`img-${j.images.length}-${Date.now()}`;j.images.push({id:N,path:"",alt:"",type:"local"}),y.success("Yeni şəkil sahəsi əlavə edildi")}i(c)}},Bs=(s,a)=>{if(n<0||n>=t.length)return;const r=[...t],c=r[n];c&&(s==="text"?c.sections=c.sections.filter(j=>j.id!==a):c.images=c.images.filter(j=>j.id!==a),i(r),y.success("Sahə silindi"))},_s=()=>{if(n<0||n>=t.length)return;const s=[...t],a=s[n];if(!a||a.id!=="about")return;const r=`${Date.now()}`;a.sections.push({id:`${he}${r}`,type:"text",label:"Statistika Etiketi",value:"YENİ STATİSTİKA"},{id:`${xe}${r}`,type:"text",label:"Statistika Dəyəri",value:"0+"}),i(s),y.success("Yeni statistika əlavə edildi")},Ms=(s,a,r)=>{if(n<0||n>=t.length)return;const c=[...t],j=c[n];if(!j||j.id!=="about")return;const N=a==="label"?`${he}${s}`:`${xe}${s}`,C=j.sections.findIndex(_=>_.id===N),O=st(r);C!==-1?j.sections[C].value=O:j.sections.push({id:N,type:"text",label:a==="label"?"Statistika Etiketi":"Statistika Dəyəri",value:O}),i(c)},At=s=>{if(n<0||n>=t.length)return;const a=[...t],r=a[n];!r||r.id!=="about"||(r.sections=r.sections.filter(c=>c.id!==`${he}${s}`&&c.id!==`${xe}${s}`),i(a),y.success("Statistika silindi"))},It=(s,a)=>{Ts({pageIdx:s,imgId:a}),v(!0)},je=async s=>{const a=new FormData;a.append("image",s);const r=y.loading("Şəkil yüklənir...");try{const c=await fetch("/api/upload-image",{method:"POST",body:a});if(c.ok){const j=await c.json();return y.success("Şəkil uğurla yükləndi",{id:r}),j.url}else throw new Error("Upload fail")}catch(c){return console.error("Upload error:",c),y.error("Görsəl yüklənərkən xəta baş verdi",{id:r}),null}},zt=async(s,a,r)=>{const c=s.target.files?.[0];if(!c)return;const j=await je(c);if(j){const N=[...t],C=N[a].images.findIndex(O=>O.id===r);C!==-1&&(N[a].images[C].path=j,N[a].images[C].type="local",i(N))}},Tt=s=>{if(!te)return;const a=[...t];if(w){const r=`img-${a[te.pageIdx].images.length}-${Date.now()}`;a[te.pageIdx].images.push({id:r,path:s,alt:"Daxil edildi",type:"local"}),A(!1)}else{const r=a[te.pageIdx].images.findIndex(c=>c.id===te.imgId);r!==-1&&(a[te.pageIdx].images[r].path=s,a[te.pageIdx].images[r].type="local")}i(a),v(!1),y.success("Şəkil seçildi")},Ps=async()=>{x(!0);const s=y.loading("Yadda saxlanılır...");try{z==="extract"?await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}):z==="events"?await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}):z==="news"?await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)}):z==="drivers"?await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}):z==="videos"?await fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)}):z==="photos"&&await fetch("/api/gallery-photos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ue)}),y.success("Dəyişikliklər bulud bazasına qeyd edildi!",{id:s}),await Ds()}catch(a){console.error("Save error:",a),y.error(`Yadda saxlama xətası: ${a.message} `,{id:s})}finally{x(!1)}},Et=s=>{const a=ae.find(r=>r.id===s);a&&(Me(s),Pe({...a}),ge("event"),E(!0))},V=(s,a,r)=>{const c=r||Ne;Pe(j=>{const C=!r||r===Ne?{...j,[s]:a}:j;return c&&_e(O=>O.map(_=>_.id===c?{..._,[s]:a}:_)),C})},Ot=()=>{const s=ae.length>0?Math.max(...ae.map(r=>r.id))+1:1,a={id:s,title:"Yeni Tədbir",date:new Date().toISOString().split("T")[0],location:"Bakı",category:"OFFROAD",img:"https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=2070&auto=format&fit=crop",description:"",rules:"",status:"planned"};_e([...ae,a]),Me(s),Pe(a),y.success("Yeni tədbir yaradıldı")},Rt=async(s,a)=>{a.stopPropagation(),window.confirm("Bu tədbiri silmək istədiyinizə əminsiniz?")&&(_e(ae.filter(r=>r.id!==s)),Ne===s&&Me(null),y.success("Tədbir silindi"))},Lt=s=>{const a=ie.find(r=>r.id===s);a&&($e(s),Fe({...a}),ge("news"),E(!0))},pe=(s,a,r)=>{const c=r||Se;Fe(j=>{const C=!r||r===Se?{...j,[s]:a}:j;return c&&Ye(O=>O.map(_=>_.id===c?{..._,[s]:a}:_)),C})},Dt=()=>{const s=ie.length>0?Math.max(...ie.map(r=>r.id))+1:1,a={id:s,title:"Yeni Xəbər",date:new Date().toISOString().split("T")[0],img:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=2070&auto=format&fit=crop",description:"",category:"BLOQ",status:"draft"};Ye([...ie,a]),$e(s),Fe(a),y.success("Yeni xəbər yaradıldı")},Ys=s=>{cs(s);const a=le.find(r=>r.id===s);a&&ps({...a})},Ke=(s,a,r)=>{const c=ke;ps(j=>{let C={...j,[s]:a};if(s==="youtubeUrl"){const O=$s(a);O&&(C={...C,videoId:O,thumbnail:`https://img.youtube.com/vi/${O}/maxresdefault.jpg`})}return c&&qe(O=>O.map(_=>{if(_.id===c){let ne={..._,[s]:a};if(s==="youtubeUrl"){const We=$s(a);We&&(ne.videoId=We,ne.thumbnail=`https://img.youtube.com/vi/${We}/maxresdefault.jpg`)}return ne}return _})),C})},$s=s=>{const a=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,r=s.match(a);return r&&r[2].length===11?r[2]:null},Fs=s=>{Ls(s);const a=Ue.find(r=>r.id===s);a&&hs({...a})},Bt=()=>{const s=Date.now(),a={id:s,title:"Yeni Şəkil",url:""};Ge(r=>[...r,a]),Fs(s)},_t=async(s,a)=>{a.stopPropagation(),window.confirm("Bu şəkli silmək istədiyinizə əminsiniz?")&&(Ge(r=>r.filter(c=>c.id!==s)),we===s&&(Ls(null),hs({})),y.success("Şəkil silindi"))},gs=(s,a)=>{hs(r=>{const c={...r,[s]:a};return we&&Ge(j=>j.map(N=>N.id===we?c:N)),c})},Mt=async s=>{const a=s.target.files?.[0];if(!a)return;const r=await je(a);r&&gs("url",r)},Pt=()=>{const s=le.length>0?Math.max(...le.map(r=>r.id))+1:1,a={id:s,title:"Yeni Video",youtubeUrl:"",videoId:"",duration:"00:00",thumbnail:"",created_at:new Date().toISOString()};qe([...le,a]),cs(s),ps(a),y.success("Yeni video əlavə edildi")},Yt=async(s,a)=>{a.stopPropagation(),window.confirm("Bu videonu silmək istədiyinizə əminsiniz?")&&(qe(le.filter(r=>r.id!==s)),ke===s&&cs(null),y.success("Video silindi"))},$t=async(s,a)=>{a.stopPropagation(),window.confirm("Bu xəbəri silmək istədiyinizə əminsiniz?")&&(Ye(ie.filter(r=>r.id!==s)),Se===s&&$e(null),y.success("Xəbər silindi"))},Ft=s=>{Ce(s),Ae(null),ve({})},qt=s=>{Ae(s);const r=K.find(c=>c.id===B)?.drivers.find(c=>c.id===s);r&&ve({...r})},me=(s,a)=>{!B||!fe||ve(r=>{const c={...r,[s]:a};return ce(j=>j.map(N=>N.id===B?{...N,drivers:N.drivers.map(C=>C.id===fe?c:C)}:N)),c})},Ut=()=>{if(!B){y.error("Öncə kateqoriya seçin və ya yaradın");return}const s=Date.now(),a={id:s,rank:99,name:"Yeni Sürücü",license:"PILOT LICENSE",team:"TEAM NAME",wins:0,points:0,img:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400&fit=crop"};ce(r=>r.map(c=>c.id===B?{...c,drivers:[...c.drivers,a]}:c)),Ae(s),ve(a),y.success("Yeni sürücü siyahıya əlavə edildi")},Gt=s=>{window.confirm("Bu sürücünü silmək istədiyinizə əminsiniz?")&&(ce(a=>a.map(r=>r.id===B?{...r,drivers:r.drivers.filter(c=>c.id!==s)}:r)),fe===s&&(Ae(null),ve({})),y.success("Sürücü silindi"))},Ht=async()=>{const s=$,a=K.map(c=>c.id===B?{...c,drivers:c.drivers.map(j=>j.id===fe?{...j,...s}:j)}:c);x(!0);const r=y.loading("Yadda saxlanılır...");try{if(!(await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw new Error("Yadda saxlama uğursuz oldu");ce(a),y.success("Bütün sürücü məlumatları qeyd edildi",{id:r})}catch{y.error("Xəta baş verdi",{id:r})}finally{x(!1)}},Kt=()=>{const s=window.prompt("Kateqoriya adı (Məs: UNLIMITED CLASS):");if(!s)return;const a=s.toLowerCase().replace(/[^a-z0-9]+/g,"-");if(K.find(c=>c.id===a)){y.error("Bu adda kateqoriya artıq mövcuddur");return}const r={id:a,name:s,drivers:[]};ce([...K,r]),Ce(a),y.success("Kateqoriya əlavə edildi")},Wt=()=>{if(!B)return;const s=K.find(a=>a.id===B);if(s&&window.confirm(`"${s.name}" kateqoriyasını və içindəki bütün sürücüləri silmək istədiyinizə əminsiniz?`)){const a=K.filter(r=>r.id!==B);ce(a),a.length>0?Ce(a[0].id):Ce(null),Ae(null),ve({}),y.success("Kateqoriya silindi")}};if(t.length===0&&!o&&!localStorage.getItem("forsaj_extracted"))return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card fade-in",children:[e.jsx(ee,{size:64,className:"text-primary",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Sayt Məzmununu və Görselləri Çıxarın"}),e.jsx("p",{children:"Front-end layihənizdəki bütün səhifələri, mətnləri və şəkilləri avtomatik olaraq bu panelə yükləyin."}),e.jsx("button",{className:"extract-btn",onClick:xs,children:"Sinxronizasiyanı Başlat"})]})});if(o)return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card",children:[e.jsx("div",{className:"loader-ring",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Avtomatik Sinxronizasiya"}),e.jsx("p",{children:"Zəhmət olmasa gözləyin, front-end məlumatları oxunur..."}),e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${g}%`}})}),e.jsx("div",{className:"step-label",children:b})]})});const D=t[n],Vt=t.map((s,a)=>({page:s,idx:a})).filter(({page:s})=>{if(!M)return!0;const a=M.toLowerCase(),r=s.title.toLowerCase().includes(a),c=s.sections.some(N=>N.label.toLowerCase().includes(a)||N.value.toLowerCase().includes(a)),j=s.images.some(N=>N.alt.toLowerCase().includes(a)||N.path.toLowerCase().includes(a));return r||c||j}),qs=(D?.sections||[]).filter(s=>D?.id==="about"&&js(s.id)||!Re(s)&&et(s.value)?!1:!M||s.label.toLowerCase().includes(M.toLowerCase())||s.value.toLowerCase().includes(M.toLowerCase())),Us=D?.id==="about"?(()=>{const s=new Map;(D.sections||[]).forEach(c=>{if(!js(c.id))return;const j=bi(c.id)||c.id,N=s.get(j)||{label:"",value:""};c.id.startsWith(he)&&(N.label=c.value||""),c.id.startsWith(xe)&&(N.value=c.value||""),s.set(j,N)});const a=Array.from(s.entries()).sort(([c],[j])=>c.localeCompare(j,void 0,{numeric:!0})).map(([c,j])=>({suffix:c,...j}));if(!M)return a;const r=M.toLowerCase();return a.filter(c=>c.label.toLowerCase().includes(r)||c.value.toLowerCase().includes(r))})():[],Gs=(D?.images||[]).filter(s=>!M||s.alt.toLowerCase().includes(M.toLowerCase())||s.path.toLowerCase().includes(M.toLowerCase())),Hs=z==="events"?"events":z==="news"?"news":z==="drivers"?"drivers":z==="videos"||z==="photos"?"gallery":Si[D?.id||""]||"home",fs=`${(window.location.hostname==="localhost"?"http://localhost:5174":window.location.origin).replace(/\/$/,"")}/?view=${Hs}&preview=1&t=${Nt}`,Zt=Te[D?.id||""]||Hs.toUpperCase();return e.jsxs("div",{className:"visual-editor fade-in",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("div",{className:"header-top-row",children:[e.jsx("div",{className:"header-info",children:e.jsxs("h1",{children:[e.jsx(ee,{size:20})," Admin Panel"]})}),e.jsxs("div",{className:"header-search-container",children:[e.jsx(Cs,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{placeholder:"Komponentləri və məzmunu axtar...",type:"text",value:M,onChange:s=>yt(s.target.value),className:"header-search-input"})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"sync-btn-compact",onClick:()=>window.location.reload(),title:"Səhifəni yenilə",children:e.jsx(as,{size:16})}),e.jsxs("button",{className:"sync-btn-compact",onClick:xs,disabled:o,style:{background:"#f0fdf4",border:"1px solid #bbf7d0",color:"#166534",fontWeight:"600",gap:"6px"},children:[e.jsx(as,{size:16,className:o?"spin":""}),o?"Sinxron...":"Sinxron"]}),e.jsx("button",{className:`save-btn ${m?"saving":""}`,onClick:Ps,disabled:m,children:m?"Gözləyin...":e.jsxs(e.Fragment,{children:[e.jsx(As,{size:16})," Yenilə"]})})]})]}),e.jsxs("div",{className:"mode-switcher",children:[e.jsx("button",{className:`mode-btn ${z==="extract"?"active":""}`,onClick:()=>H("extract"),children:"Sayt Məzmunu"}),e.jsx("button",{className:`mode-btn ${z==="events"?"active":""}`,onClick:()=>H("events"),children:"Tədbirlər"}),e.jsx("button",{className:`mode-btn ${z==="news"?"active":""}`,onClick:()=>H("news"),children:"Xəbərlər"}),e.jsx("button",{className:`mode-btn ${z==="drivers"?"active":""}`,onClick:()=>H("drivers"),children:"Sürücülər"}),e.jsx("button",{className:`mode-btn ${z==="videos"?"active":""}`,onClick:()=>H("videos"),children:"Videolar"}),e.jsx("button",{className:`mode-btn ${z==="photos"?"active":""}`,onClick:()=>H("photos"),children:"Fotolar"})]})]}),z==="news"?e.jsxs("div",{className:"editor-layout",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Xəbərlər"}),e.jsx("button",{className:"add-section-btn",onClick:Dt,children:e.jsx(P,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:ie.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:'Hələ heç bir xəbər yoxdur. Yeni xəbər yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):ie.map(s=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${Se===s.id?"active":""}`,onClick:()=>Lt(s.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(Oe,{size:14})," ",s.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:s.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>$t(s.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(U,{size:14})})]},s.id))})]}),e.jsx("main",{className:"editor-canvas",style:{padding:"0"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",flexDirection:"column",gap:"1rem"},children:[e.jsx(Oe,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən xəbər seçin və ya yeni yaradın."})]})})]}):z==="events"?e.jsxs("div",{className:"editor-layout",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Tədbirlər"}),e.jsx("button",{className:"add-section-btn",onClick:Ot,children:e.jsx(P,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:ae.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:'Hələ heç bir tədbir yoxdur. Yeni tədbir yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):ae.map(s=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${Ne===s.id?"active":""}`,onClick:()=>Et(s.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(ts,{size:14})," ",s.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:s.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>Rt(s.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(U,{size:14})})]},s.id))})]}),e.jsx("main",{className:"editor-canvas",style:{padding:"0"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",flexDirection:"column",gap:"1rem"},children:[e.jsx(ts,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən tədbir seçin və ya yeni yaradın."})]})})]}):z==="drivers"?e.jsxs("div",{className:"editor-layout",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Kateqoriyalar"}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"add-section-btn",onClick:Kt,title:"Kateqoriya əlavə et",children:e.jsx(P,{size:16})}),e.jsx("button",{className:"delete-section-btn",onClick:Wt,title:"Seçilmiş kateqoriyanı sil",style:{background:"none",border:"none",color:"#ff4d4f",cursor:"pointer",padding:"4px"},children:e.jsx(U,{size:16})})]})]}),e.jsx("select",{value:B||"",onChange:s=>Ft(s.target.value),style:{width:"100%",padding:"10px",marginBottom:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"},children:K.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))}),e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Sürücülər"}),e.jsx("button",{className:"add-section-btn",onClick:Ut,children:e.jsx(P,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 400px)"},children:B&&K.find(s=>s.id===B)?.drivers.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:"Bu kateqoriyada sürücü yoxdur."}):K.find(s=>s.id===B)?.drivers.map(s=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${fe===s.id?"active":""}`,onClick:()=>qt(s.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsxs("span",{style:{fontWeight:"900",color:"var(--primary)",marginRight:"8px"},children:["#",s.rank]})," ",s.name]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>{a.stopPropagation(),Gt(s.id)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(U,{size:14})})]},s.id))})]}),e.jsx("main",{className:"editor-canvas",style:{padding:"0"},children:fe!==null&&$.id!==void 0?e.jsxs("div",{style:{padding:"2rem",height:"100%",overflowY:"auto"},children:[e.jsxs("div",{className:"canvas-header",style:{marginBottom:"2rem",borderBottom:"1px solid #eee",paddingBottom:"1rem"},children:[e.jsx("h2",{style:{fontSize:"2rem"},children:$.name}),e.jsxs("p",{style:{color:"#64748b"},children:[K.find(s=>s.id===B)?.name," // RANK #",$.rank]})]}),e.jsxs("div",{className:"edit-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"SÜRÜCÜNÜN ADI VƏ SOYADI"}),e.jsx("input",{type:"text",value:$.name,onChange:s=>me("name",s.target.value),placeholder:"Məs: Əli Məmmədov",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARIŞ SIRALAMASI (RANK)"}),e.jsx("input",{type:"number",value:$.rank,readOnly:!0,style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",background:"#f8fafc",color:"#94a3b8",cursor:"not-allowed"}}),e.jsx("p",{style:{fontSize:"11px",color:"#3b82f6",marginTop:"6px",fontWeight:"bold"},children:"ℹ️ Bu sıra ballara görə avtomatik hesablanır"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT LİSENZİYASI"}),e.jsx("input",{type:"text",value:$.license,onChange:s=>me("license",s.target.value),placeholder:"Məs: A-SİNFİ",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"TƏMSİL ETDİYİ KOMANDA"}),e.jsx("input",{type:"text",value:$.team,onChange:s=>me("team",s.target.value),placeholder:"Məs: FORSAJ RACING",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"QALİBİYYƏT (WINS)"}),e.jsx("input",{type:"number",value:$.wins,onChange:s=>me("wins",parseInt(s.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"XAL (POINTS)"}),e.jsx("input",{type:"number",value:$.points,onChange:s=>me("points",parseInt(s.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT ŞƏKLİ"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",overflow:"hidden",background:"#f1f5f9",border:"2px solid var(--primary)"},children:$.img?e.jsx("img",{src:$.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Z,{size:24,style:{opacity:.2}})})}),e.jsxs("div",{style:{flex:1,display:"flex",gap:"0.5rem"},children:[e.jsx("input",{type:"text",value:$.img||"",onChange:s=>me("img",s.target.value),placeholder:"Şəkil URL və ya yol...",style:{flex:1,padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}}),e.jsx("input",{type:"file",id:"driver-img-upload",style:{display:"none"},accept:"image/*",onChange:async s=>{const a=s.target.files?.[0];if(a){const r=await je(a);r&&me("img",r)}}}),e.jsx("button",{onClick:()=>document.getElementById("driver-img-upload")?.click(),style:{background:"#f1f5f9",border:"1px solid #e2e8f0",padding:"12px",borderRadius:"8px",cursor:"pointer"},children:"Yüklə"})]})]})]})]}),e.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"flex-end"},children:e.jsx("button",{className:"btn-primary",onClick:Ht,disabled:m,children:m?"Gözləyin...":"Sürücünü Yadda Saxla"})})]}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",flexDirection:"column",gap:"1rem"},children:[e.jsx(ss,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən sürücü seçin."})]})})]}):z==="videos"?e.jsxs("div",{className:"editor-layout",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Videolar"}),e.jsx("button",{className:"add-section-btn",onClick:Pt,children:e.jsx(P,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:le.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:"Heç bir video əlavə edilməyib."}):le.map(s=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${ke===s.id?"active":""}`,onClick:()=>Ys(s.id),style:{width:"100%",paddingRight:"40px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"16px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:s.thumbnail&&e.jsx("img",{src:s.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>{a.stopPropagation(),Yt(s.id,a)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(U,{size:14})})]},s.id))})]}),e.jsx("main",{className:"editor-canvas",style:{padding:"0"},children:ke!==null&&F.id!==void 0?e.jsxs("div",{style:{padding:"2rem",height:"100%",overflowY:"auto"},children:[e.jsxs("div",{className:"canvas-header",style:{marginBottom:"2rem",borderBottom:"1px solid #eee",paddingBottom:"1rem"},children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Video Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[F.title," // ID: ",F.id]})]}),e.jsxs("div",{className:"edit-grid",style:{display:"grid",gridTemplateColumns:"1fr",gap:"2rem",maxWidth:"800px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO BAŞLIĞI"}),e.jsx("input",{type:"text",value:F.title,onChange:s=>Ke("title",s.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YOUTUBE URL"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ee,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{type:"text",value:F.youtubeUrl,onChange:s=>Ke("youtubeUrl",s.target.value),placeholder:"https://www.youtube.com/watch?v=...",style:{width:"100%",padding:"12px 12px 12px 40px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsx("p",{style:{fontSize:"11px",color:"#64748b",marginTop:"6px"},children:"YouTube linkini daxil etdikdə şəkil və ID avtomatik təyin olunacaq."})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"MÜDDƏT (MƏS: 05:20)"}),e.jsx("input",{type:"text",value:F.duration,onChange:s=>Ke("duration",s.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO ID (AVTOMATİK)"}),e.jsx("input",{type:"text",value:F.videoId,readOnly:!0,style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",background:"#f8fafc",color:"#94a3b8"}})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARADILMA TARİXİ"}),e.jsx("input",{type:"text",value:F.created_at||"",onChange:s=>Ke("created_at",s.target.value),placeholder:"2026-02-16T10:30:00.000Z",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ÖNİZLƏMƏ (THUMBNAIL)"}),e.jsxs("div",{style:{width:"100%",aspectRatio:"16/9",borderRadius:"12px",overflow:"hidden",background:"#000",border:"1px solid #e2e8f0",position:"relative"},children:[F.thumbnail?e.jsx("img",{src:F.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(ys,{size:48,style:{opacity:.1,color:"white"}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"YouTube linki daxil edin"})]}),F.videoId&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",cursor:"pointer"},onClick:()=>window.open(F.youtubeUrl,"_blank"),children:e.jsx("div",{style:{background:"#FF4D00",color:"white",padding:"12px",borderRadius:"50%",boxShadow:"0 0 20px rgba(255,77,0,0.4)"},children:e.jsx(pt,{size:24,fill:"currentColor"})})})]})]})]})]}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",flexDirection:"column",gap:"1rem"},children:[e.jsx(ys,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən video seçin və ya yeni əlavə edin."})]})})]}):z==="photos"?e.jsxs("div",{className:"editor-layout",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Foto Arxiv"}),e.jsx("button",{className:"add-section-btn",onClick:Bt,title:"Yeni şəkil əlavə et",children:e.jsx(P,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},children:Ue.length===0?e.jsx("p",{style:{padding:"20px",color:"#94a3b8",textAlign:"center",fontSize:"13px"},children:"Şəkil yoxdur"}):Ue.map(s=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${we===s.id?"active":""}`,onClick:()=>Fs(s.id),style:{width:"100%",paddingRight:"40px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",overflow:"hidden",flexShrink:0,background:"#eee"},children:s.url?e.jsx("img",{src:s.url,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(Z,{size:12,style:{margin:"6px",opacity:.3}})}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>_t(s.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(U,{size:14})})]},s.id))})]}),e.jsx("main",{className:"editor-canvas",style:{padding:"0"},children:we!==null&&de.id!==void 0?e.jsxs("div",{style:{padding:"2rem",height:"100%",overflowY:"auto"},children:[e.jsxs("div",{className:"canvas-header",style:{marginBottom:"2rem",borderBottom:"1px solid #eee",paddingBottom:"1rem"},children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Şəkil Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[de.title," // ID: ",de.id]})]}),e.jsxs("div",{className:"edit-grid",style:{display:"grid",gridTemplateColumns:"1fr",gap:"2rem",maxWidth:"800px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ŞƏKİL BAŞLIĞI"}),e.jsx("input",{type:"text",value:de.title,onChange:s=>gs("title",s.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"FOTO"}),e.jsxs("div",{style:{width:"100%",minHeight:"300px",borderRadius:"12px",overflow:"hidden",background:"#f8fafc",border:"1px dashed #cbd5e1",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[de.url?e.jsx("img",{src:de.url,alt:"",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(Z,{size:48,style:{opacity:.1}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"Şəkil seçilməyib"})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem"},children:[e.jsx("input",{type:"file",id:"gallery-photo-upload",style:{display:"none"},accept:"image/*",onChange:Mt}),e.jsxs("button",{onClick:()=>document.getElementById("gallery-photo-upload")?.click(),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(P,{size:18})," Şəkil Yüklə"]}),e.jsx("input",{type:"text",value:de.url||"",onChange:s=>gs("url",s.target.value),placeholder:"URL və ya yol...",style:{padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",width:"250px"}})]})]})]})]})]}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",flexDirection:"column",gap:"1rem"},children:[e.jsx(Z,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən şəkil seçin və ya yeni əlavə edin."})]})})]}):e.jsxs("div",{className:"editor-layout",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Komponentlər"}),e.jsx("button",{className:"add-section-btn",onClick:()=>d(!0),children:e.jsx(P,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Vt.map(({page:s,idx:a})=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${n===a?"active":""}`,onClick:()=>u(a),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(bs,{size:16})," ",Te[s.id]||s.title||s.id]}),!Te[s.id]&&e.jsx("button",{className:"delete-section-btn",onClick:r=>Ct(a,r),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.3,cursor:"pointer"},children:e.jsx(U,{size:14})})]},a))})]}),e.jsxs("div",{className:`editor-workspace ${be?"with-preview":""}`,children:[e.jsx("main",{className:"editor-canvas",children:D?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"canvas-header",children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:Te[D.id]||D.title}),e.jsxs("div",{className:"canvas-actions",children:[D.id==="about"&&e.jsxs("button",{className:"add-field-minimal",onClick:_s,style:{background:"#f5f3ff",color:"#7c3aed",border:"1px solid #ddd6fe"},children:[e.jsx(ss,{size:14})," Statistika Əlavə Et"]}),D.id==="values"&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>{Ie("text","İkon Kodu (Shield/Users/Leaf/Zap)",`val-icon-${Date.now()}`),Ie("text","Dəyər Başlığı",`val-title-${Date.now()}`),Ie("text","Dəyər Təsviri",`val-desc-${Date.now()}`)},style:{background:"#f0fdf4",color:"#16a34a",border:"1px solid #bbf7d0"},children:[e.jsx(P,{size:14})," Yeni Dəyər Əlavə Et"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>bt(s=>!s),style:{background:"#eef2ff",color:"#4338ca",border:"1px solid #c7d2fe"},children:[be?e.jsx(ma,{size:14}):e.jsx(ua,{size:14}),be?"Önizləməni Gizlə":"Önizləməni Aç"]}),be&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"add-field-minimal",onClick:()=>St(s=>s+1),style:{background:"#f8fafc",color:"#0f172a",border:"1px solid #e2e8f0"},children:[e.jsx(as,{size:14})," Önizləməni Yenilə"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>window.open(fs,"_blank","noopener,noreferrer"),style:{background:"#f8fafc",color:"#0f172a",border:"1px solid #e2e8f0"},children:[e.jsx(ct,{size:14})," Yeni Tab"]})]}),e.jsx("div",{style:{width:"1px",height:"24px",background:"#e2e8f0",margin:"0 4px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f8fafc",padding:"4px 12px",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:800,color:"#64748b"},children:"VƏZİYYƏT:"}),e.jsx("button",{onClick:()=>{const s=[...t];s[n].active=D?.active===!1,i(s),y.success(s[n].active?"Bölmə aktivləşdirildi":"Bölmə deaktiv edildi")},style:{width:"36px",height:"18px",borderRadius:"9px",background:D?.active!==!1?"#10b981":"#cbd5e1",position:"relative",cursor:"pointer",border:"none",transition:"background 0.3s"},children:e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:D?.active!==!1?"20px":"2px",transition:"left 0.3s"}})})]})]})]}),e.jsxs("div",{className:"edit-fields",children:[D.id==="about"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(ss,{size:16})," Statistikalar"]}),e.jsxs("button",{className:"add-field-minimal",onClick:_s,children:[e.jsx(P,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Us.length>0?Us.map(s=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"10px",background:"#fff"},children:[e.jsx("input",{type:"text",value:s.label,onChange:a=>Ms(s.suffix,"label",a.target.value),placeholder:"Statistika adı (Məs: PİLOTLAR)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:s.value,onChange:a=>Ms(s.suffix,"value",a.target.value),placeholder:"Dəyər (Məs: 140+)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{onClick:()=>At(s.suffix),title:"Statistikanı sil",style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(U,{size:14})})]},s.suffix)):e.jsx("div",{style:{padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:M?"Axtarışa uyğun statistika tapılmadı.":'Hələ statistika yoxdur. "Yeni Statistika" ilə əlavə edin.'})})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(ot,{size:16})," Mətn Sahələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Ie("text"),children:[e.jsx(P,{size:14})," Mətn Əlavə Et"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:qs.length===0&&M?e.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:"Bu səhifədə sorğuya uyğun mətn tapılmadı."}):qs.map(s=>{const a=Re(s),r=es(s,"label"),c=es(s,"value"),j=es(s,"url"),N=Ni(s);return e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsx("input",{type:"text",value:et(s.label)?yi(s.label):s.label,onChange:C=>He(n,s.id,"label",C.target.value),disabled:!r,style:{fontSize:"0.7rem",fontWeight:800,textTransform:"uppercase",color:"var(--primary)",border:"none",background:"none",width:"auto",padding:0}}),e.jsx("span",{style:{fontSize:"10px",color:"#ccc"},children:a?"• Açar mətn":"• Mətn sahəsi"})]}),a?e.jsx("textarea",{value:s.value||"",onChange:C=>He(n,s.id,"value",C.target.value),disabled:!c,rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:"1.4",resize:"vertical"}}):e.jsx(Je,{id:`editor-${s.id}`,value:s.value||"",onChange:C=>He(n,s.id,"value",C),readOnly:!c}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(ee,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:s.url||"",onChange:C=>He(n,s.id,"url",C.target.value),disabled:!j,placeholder:"URL (Məs: /about veya https://...)",style:{fontSize:"12px",padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",flex:1}})]}),N&&e.jsx("button",{className:"field-delete-btn",onClick:()=>Bs("text",s.id),style:{position:"absolute",right:"10px",top:"10px",background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:e.jsx(U,{size:12})})]},s.id)})})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Z,{size:16})," Bölmədəki Şəkillər"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Ie("image"),children:[e.jsx(P,{size:14})," Yeni Şəkil Yeri"]})]}),e.jsx("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1.5rem"},children:Gs.length>0?Gs.map(s=>e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",overflow:"hidden",background:"#fff",position:"relative"},children:[e.jsx("button",{className:"field-delete-btn",onClick:()=>Bs("image",s.id),style:{position:"absolute",right:"8px",top:"8px",zIndex:10,background:"rgba(255,255,255,0.9)",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(U,{size:12})}),e.jsx("div",{style:{height:"120px",background:"#f8fafc",position:"relative",overflow:"hidden"},children:s.path&&(s.path.startsWith("http")||s.path.startsWith("/"))?e.jsx("img",{src:s.path,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#f1f5f9"},children:[e.jsx(Z,{size:32,style:{opacity:.1}}),e.jsx("span",{style:{fontSize:"10px",color:"#999",position:"absolute",bottom:"10px"},children:"Yol yoxdur"})]})}),e.jsxs("div",{style:{padding:"0.75rem"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginBottom:"4px"},children:[e.jsx("input",{type:"text",placeholder:"Resur yolu...",value:s.path,onChange:a=>{if(n<0||n>=t.length)return;const r=[...t],c=r[n];if(!c)return;const j=c.images.findIndex(N=>N.id===s.id);j!==-1&&(c.images[j].path=a.target.value,i(r))},style:{fontSize:"0.75rem",flex:1,padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}}),e.jsx("button",{onClick:()=>It(n,s.id),title:"Sistemdən seç",style:{padding:"0 8px",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer"},children:e.jsx(ee,{size:14})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"file",id:`file-up-${s.id}`,style:{display:"none"},accept:"image/*",onChange:a=>zt(a,n,s.id)}),e.jsx("button",{onClick:()=>document.getElementById(`file-up-${s.id}`)?.click(),title:"Kompüterdən yüklə",style:{padding:"0 8px",height:"100%",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:e.jsx(P,{size:14})})]})]}),e.jsx("input",{type:"text",placeholder:"Alt mətni...",value:s.alt,onChange:a=>kt(n,s.id,a.target.value),style:{fontSize:"0.75rem",width:"100%",padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}})]})]},s.id)):e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"2rem",background:"#f8fafc",borderRadius:"12px",border:"1px dashed #cbd5e1",color:"#64748b"},children:M?"Sorğuya uyğun şəkil tapılmadı.":"Bu bölmədə redaktə ediləcək şəkil yoxdur."})})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("label",{children:[e.jsx(Z,{size:16})," Yeni Şəkil Yüklə"]}),e.jsxs("div",{className:"upload-dropzone",children:[e.jsx(P,{size:24}),e.jsx("p",{children:"Şəkil yükləmək üçün seçin"}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[e.jsx("button",{className:"btn-secondary",onClick:()=>{const s=document.createElement("input");s.type="file",s.accept="image/*",s.onchange=async a=>{const r=a.target.files?.[0];if(!r)return;const c=await je(r);if(c&&n>=0&&n<t.length){const j=[...t],N=j[n];if(N){const C=`img-${N.images.length}-${Date.now()}`;N.images.push({id:C,path:c,alt:"",type:"local"}),i(j),y.success("Yeni şəkil əlavə edildi")}}},s.click()},children:"Cihazdan Yüklə"}),e.jsx("button",{className:"btn-secondary",onClick:()=>{const s=`img-${(D.images||[]).length}`;Ts({pageIdx:n,imgId:s}),A(!0),v(!0)},children:"Kitabxanadan Seç"})]})]})]})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",gap:"1rem"},children:[e.jsx(bs,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən bir komponent seçin."})]})}),be&&e.jsxs("aside",{className:"live-preview-panel",children:[e.jsx("div",{className:"live-preview-header",children:e.jsxs("div",{children:[e.jsx("p",{className:"live-preview-title",children:"Canlı Önizləmə"}),e.jsxs("p",{className:"live-preview-subtitle",children:["Sayt görünümü: ",Zt]})]})}),e.jsx("iframe",{src:fs,className:"live-preview-frame",title:"Site Preview",loading:"lazy"},fs)]})]})]}),l&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Yeni Bölmə Əlavə Et"}),e.jsx("button",{onClick:()=>d(!1),children:e.jsx(is,{size:20})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:Be,onChange:s=>Es(s.target.value),placeholder:"Məs: Xidmətlərimiz, Kampaniyalar...",autoFocus:!0})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>d(!1),children:"Ləğv et"}),e.jsx("button",{className:"btn-primary",onClick:wt,children:"Əlavə et"})]})]})}),S&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Sistem Şəkilləri"}),e.jsx("button",{onClick:()=>v(!1),children:e.jsx(is,{size:20})})]}),e.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:e.jsx("div",{className:"image-selector-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:ds.length>0?ds.map((s,a)=>e.jsxs("div",{className:"selector-image-card",onClick:()=>Tt(s),style:{cursor:"pointer",border:"2px solid #f1f5f9",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s"},children:[e.jsx("div",{style:{aspectRatio:"1/1",background:"#f8fafc"},children:e.jsx("img",{src:s,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("div",{style:{padding:"0.5rem",fontSize:"10px",color:"#64748b",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:s.split("/").pop()})]},a)):e.jsx("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"3rem",color:"#94a3b8"},children:"Sistemdə heç bir şəkil tapılmadı."})})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-secondary",onClick:()=>v(!1),children:"Bağla"})})]})}),I&&e.jsx("div",{className:"modal-overlay",onClick:()=>E(!1),children:e.jsxs("div",{className:"modal-card full-screen fade-in",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[G==="news"?e.jsx(Oe,{size:20}):e.jsx(ts,{size:20}),G==="news"?"Xəbəri Redaktə Et":"Tədbiri Redaktə Et"]}),e.jsx("button",{onClick:()=>E(!1),children:e.jsx(is,{size:20})})]}),e.jsx("div",{className:"modal-body",children:G==="news"?e.jsxs("div",{className:"edit-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"BAŞLIQ (AZ)"}),e.jsx("input",{type:"text",value:Y.title,onChange:s=>pe("title",s.target.value,Y.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:Y.date,onChange:s=>pe("date",s.target.value,Y.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:Y.category,onChange:s=>pe("category",s.target.value,Y.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:Y.status,onChange:s=>pe("status",s.target.value,Y.id),children:[e.jsx("option",{value:"draft",children:"Qaralama"}),e.jsx("option",{value:"published",children:"Dərc edilib"})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("input",{type:"text",value:Y.img,onChange:s=>pe("img",s.target.value,Y.id),style:{flex:1}}),e.jsx("input",{type:"file",id:"news-modal-img",style:{display:"none"},onChange:async s=>{const a=s.target.files?.[0];if(a){const r=await je(a);r&&pe("img",r,Y.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("news-modal-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"MƏZMUN"}),e.jsx(Je,{id:"news-modal-desc",value:Y.description||"",onChange:s=>pe("description",s,Y.id)})]})]}):e.jsxs("div",{className:"edit-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏDBİR ADI"}),e.jsx("input",{type:"text",value:R.title,onChange:s=>V("title",s.target.value,R.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:R.date,onChange:s=>V("date",s.target.value,R.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MƏKAN"}),e.jsx("input",{type:"text",value:R.location,onChange:s=>V("location",s.target.value,R.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:R.category,onChange:s=>V("category",s.target.value,R.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:R.status,onChange:s=>V("status",s.target.value,R.id),children:[e.jsx("option",{value:"planned",children:"Gələcək"}),e.jsx("option",{value:"past",children:"Keçmiş"})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("input",{type:"text",value:R.img,onChange:s=>V("img",s.target.value,R.id),style:{flex:1}}),e.jsx("input",{type:"file",id:"event-modal-img",style:{display:"none"},onChange:async s=>{const a=s.target.files?.[0];if(a){const r=await je(a);r&&V("img",r,R.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("event-modal-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"TƏSVİR"}),e.jsx(Je,{id:"event-modal-desc",value:R.description||"",onChange:s=>V("description",s,R.id)})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"PDF URL"}),e.jsx("input",{type:"text",value:R.pdfUrl||"",onChange:s=>V("pdfUrl",s.target.value,R.id),placeholder:"https://.../rules.pdf"})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"QAYDALAR"}),e.jsx(Je,{id:"event-modal-rules",value:R.rules||"",onChange:s=>V("rules",s,R.id)})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>E(!1),children:"Bağla"}),e.jsx("button",{className:"btn-primary",onClick:()=>{E(!1),Ps()},children:"Yadda Saxla"})]})]})})]})},wi=()=>{const[t,i]=p.useState("stopped"),[n,u]=p.useState("3000"),[m,x]=p.useState("development"),[o,f]=p.useState({cpu:0,ram:{total:0,used:0,percentage:0},versions:{node:"",vite:"",project:""},uptime:""}),g=()=>{fetch("/api/frontend/status").then(b=>b.json()).then(b=>{i(b.status),u(b.port.toString()),b.stats&&f(b.stats)}).catch(()=>console.log("Status check failed"))};p.useEffect(()=>{g();const b=setInterval(g,5e3);return()=>clearInterval(b)},[]);const h=async b=>{b==="restart"&&i("restarting");try{await fetch("/api/frontend/action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:b})}),setTimeout(g,2e3),y.success(`${b.charAt(0).toUpperCase()+b.slice(1)} əmri göndərildi`)}catch{y.error("Əməliyyat uğursuz oldu")}};return e.jsxs("div",{className:"settings-container fade-in",children:[e.jsxs("div",{className:"settings-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Frontend tənzimləmələri"}),e.jsx("p",{children:"Sistem infrastrukturunu və server parametrlərini idarə edin"})]}),e.jsxs("div",{className:`status-badge ${t}`,children:[e.jsx("div",{className:"pulse"}),t==="running"?"Aktiv":t==="stopped"?"Dayandırılıb":"Yenidən başladılır..."]})]}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:"settings-card controls",children:[e.jsxs("h3",{children:[e.jsx(lt,{size:20})," Server Nəzarəti"]}),e.jsxs("div",{className:"action-buttons",children:[e.jsxs("button",{className:"btn-start",disabled:t==="running"||t==="restarting",onClick:()=>h("start"),children:[e.jsx(pt,{size:18})," Başla"]}),e.jsxs("button",{className:"btn-stop",disabled:t==="stopped"||t==="restarting",onClick:()=>h("stop"),children:[e.jsx(ha,{size:18})," Dayandır"]}),e.jsxs("button",{className:"btn-restart",disabled:t==="restarting",onClick:()=>h("restart"),children:[e.jsx(as,{size:18})," Yenidən işə sal"]})]})]}),e.jsxs("div",{className:"settings-card config",children:[e.jsxs("h3",{children:[e.jsx(xa,{size:20})," Şəbəkə Parametrləri"]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Port Nömrəsi"}),e.jsx("input",{type:"number",value:n,onChange:b=>u(b.target.value),placeholder:"3000"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Mühit"}),e.jsxs("select",{value:m,onChange:b=>x(b.target.value),children:[e.jsx("option",{value:"development",children:"İnkişaf"}),e.jsx("option",{value:"production",children:"Canlı"}),e.jsx("option",{value:"staging",children:"Sınaq"})]})]})]}),e.jsxs("div",{className:"settings-card stats",children:[e.jsxs("h3",{children:[e.jsx(ga,{size:20})," Resurs İstifadəsi"]}),e.jsxs("div",{className:"stats-row",children:[e.jsx("span",{children:"CPU Yükü"}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"fill",style:{width:`${o.cpu}%`}})}),e.jsxs("span",{children:[o.cpu,"%"]})]}),e.jsxs("div",{className:"stats-row",children:[e.jsx("span",{children:"RAM İstifadəsi"}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"fill",style:{width:`${o.ram.percentage}%`}})}),e.jsxs("span",{children:[o.ram.used.toFixed(1),"GB / ",o.ram.total.toFixed(1),"GB"]})]})]}),e.jsxs("div",{className:"settings-card info",children:[e.jsxs("h3",{children:[e.jsx(fa,{size:20})," Sistem Məlumatı"]}),e.jsxs("div",{className:"info-list",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Versiya:"})," ",e.jsx("strong",{children:o.versions.project})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Node.js:"})," ",e.jsx("strong",{children:o.versions.node})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Vite:"})," ",e.jsx("strong",{children:o.versions.vite})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"İşləmə Müddəti:"})," ",e.jsx("strong",{children:o.uptime})]})]})]})]}),e.jsx("div",{className:"settings-footer",children:e.jsx("button",{className:"btn-save",onClick:()=>y.success("Ayarlar yadda saxlanıldı!"),children:"Dəyişiklikləri Yadda Saxla"})})]})},Ci=({currentUser:t})=>{const[i,n]=p.useState([]),[u,m]=p.useState(!0),[x,o]=p.useState(!1),[f,g]=p.useState(null),h=async()=>{try{const d=localStorage.getItem("forsaj_admin_token"),S=await fetch("/api/users",{headers:{Authorization:`Bearer ${d}`}});if(!S.ok)throw new Error("Yükləmə uğursuz oldu");const v=await S.json();n(v||[])}catch{y.error("İstifadəçiləri yükləmək mümkün olmadı")}finally{m(!1)}};p.useEffect(()=>{h()},[]);const b=async d=>{if(d.preventDefault(),!f?.username||!f?.name||!f?.id&&!f?.password){y.error("Zəhmət olmasa bütün sahələri doldurun");return}try{const S=localStorage.getItem("forsaj_admin_token"),v=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify(f)});if(v.ok)y.success(f.id?"İstifadəçi yeniləndi":"Yeni istifadəçi yaradıldı"),o(!1),g(null),h();else{const w=await v.json();y.error(w.error||"Xəta baş verdi")}}catch{y.error("Serverlə bağlantı kəsildi")}},k=async d=>{if(window.confirm("Bu istifadəçini silmək istədiyinizə əminsiniz?"))try{const S=localStorage.getItem("forsaj_admin_token"),v=await fetch(`/api/users/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${S}`}});if(v.ok)y.success("İstifadəçi silindi"),h();else{const w=await v.json();y.error(w.error||"Silmək mümkün olmadı")}}catch{y.error("Serverlə bağlantı kəsildi")}},l=(d=null)=>{g(d?{...d}:{username:"",name:"",password:"",role:"secondary"}),o(!0)};return u?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"users-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Admin Hesabları"}),e.jsx("p",{children:"Sistemi idarə edən bütün administratorların siyahısı və səlahiyyətləri"})]}),t.role==="master"&&e.jsxs("button",{className:"add-user-btn",onClick:()=>l(),children:[e.jsx(va,{size:18})," Yeni idarəçi"]})]}),e.jsx("div",{className:"users-grid",children:i.map(d=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-avatar",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${d.name}&background=${d.role==="master"?"3b82f6":"f59e0b"}&color=fff`,alt:d.name}),e.jsxs("div",{className:`role-badge ${d.role||"secondary"}`,children:[e.jsx(Qs,{size:10})," ",d.role==="master"?"Baş admin":"Redaktor"]})]}),e.jsxs("div",{className:"user-details",children:[e.jsx("h3",{children:d.name}),e.jsxs("span",{children:["@",d.username||"username"]})]}),t.role==="master"&&e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"edit-btn",onClick:()=>l(d),title:"Düzəliş et",children:e.jsx(ja,{size:16})}),e.jsx("button",{className:"delete-btn",onClick:()=>k(d.id.toString()),title:"Sil",children:e.jsx(U,{size:16})})]})]},d.id))}),x&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:f?.id?"İstifadəçini redaktə et":"Yeni idarəçi hesabı"}),e.jsx("button",{onClick:()=>o(!1),children:e.jsx(is,{size:20})})]}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Le,{size:14})," Tam Ad"]}),e.jsx("input",{type:"text",value:f?.name||"",onChange:d=>g({...f,name:d.target.value}),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Le,{size:14})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:f?.username||"",onChange:d=>g({...f,username:d.target.value}),placeholder:"Məs: alimm",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ns,{size:14})," Şifrə ",f?.id&&e.jsx("span",{className:"helper-text",children:"(Dəyişmək istəmirsinizsə boş saxlayın)"})]}),e.jsx("input",{type:"password",value:f?.password||"",onChange:d=>g({...f,password:d.target.value}),placeholder:"••••••••",required:!f?.id})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Qs,{size:14})," Yetki (Rol)"]}),e.jsxs("select",{value:f?.role||"secondary",onChange:d=>g({...f,role:d.target.value}),children:[e.jsx("option",{value:"master",children:"Baş Admin (Tam səlahiyyət)"}),e.jsx("option",{value:"secondary",children:"Redaktor (Məhdud səlahiyyət)"})]})]}),f?.role==="master"&&e.jsxs("div",{className:"role-warning",children:[e.jsx(ya,{size:14})," Baş Admin bütün sistem daxilində tam səlahiyyətə malikdir."]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>o(!1),children:"Ləğv et"}),e.jsxs("button",{type:"submit",className:"save-btn",children:[e.jsx(As,{size:18})," Yadda Saxla"]})]})]})]})})]})},Ai=()=>{const[t,i]=p.useState(!1),n=async()=>{i(!0);const m=y.loading("Front qovluğu skan edilir...");try{if(!(await fetch("/api/extract-content",{method:"POST"})).ok)throw new Error("Skan xətası");y.success("Skan tamamlandı! Panel yenilənir...",{id:m}),setTimeout(()=>window.location.reload(),1500)}catch{y.error("Skan uğursuz oldu!",{id:m})}finally{i(!1)}},u=[{id:1,title:"Sitemap Faylını Yaradın",description:"public/sitemap.json faylına menyu strukturunuzu əlavə edin və ya front-dan gətirin.",path:"public/sitemap.json",icon:ba},{id:2,title:"Front Layihəsini Sinxronlaşdırın",description:"/front qovluğundakı React layihəsini skan edərək bütün səhifələri menyuya çıxarın.",path:"/front/src/pages",icon:Na},{id:3,title:"Sistem Ayarlarını Tənzimləyin",description:"Saytın ümumi tənzimləmələrini, loqo və əlaqə məlumatlarını idarə edin.",path:"Sistem Ayarları",icon:at}];return e.jsxs("div",{className:"setup-guide",children:[e.jsxs("div",{className:"setup-header",children:[e.jsxs("div",{className:"setup-brand",children:[e.jsx("div",{className:"octo-logo",children:"🏎️"}),e.jsx("h2",{children:"Forsaj Club İdarəetmə"})]}),e.jsx("h1",{children:"Xoş Gəlmisiniz! Paneli Qurmağa Başlayaq"}),e.jsx("p",{children:"Forsaj Club platformanız üçün premium admin paneli artıq hazırdır. Aşağıdakı addımları izləyərək front layihənizi adminlə birləşdirin."})]}),e.jsxs("div",{className:"setup-grid",children:[e.jsx("div",{className:"steps-container",children:u.map(m=>e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-icon",children:e.jsx(m.icon,{size:26})}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:m.title}),e.jsx("p",{children:m.description}),e.jsx("span",{className:"step-badge",children:m.path})]})]},m.id))}),e.jsxs("div",{className:"setup-sidebar-actions",children:[e.jsxs("div",{className:"action-card primary",children:[e.jsx(Sa,{size:32}),e.jsx("h4",{children:"Yeni Səhifə Əlavə Et"}),e.jsx("p",{children:"Dinamik olaraq yeni admin səhifəsi yaradın."})]}),e.jsxs("div",{className:"action-card secondary",children:[e.jsx(Cs,{size:32}),e.jsx("h4",{children:"Front Skaner"}),e.jsx("p",{children:"/front qosulub. Skanlamağa hazırdır."}),e.jsx("button",{className:`scan-btn ${t?"loading":""}`,onClick:n,disabled:t,children:t?e.jsx(mt,{className:"animate-spin"}):"İndi Skan Et"})]})]})]}),e.jsx("div",{className:"setup-footer",children:e.jsxs("div",{className:"info-box",children:[e.jsx("strong",{children:"Məlumat:"})," /front qovluğu aşkar edildi. Sitemap avtomatik generasiya olunduqda bu ekran Dashboard ilə əvəzlənəcək."]})})]})},Ii=({onLogin:t})=>{const[i,n]=p.useState(!0),[u,m]=p.useState(""),[x,o]=p.useState(""),[f,g]=p.useState(""),[h,b]=p.useState(!1);p.useEffect(()=>{(async()=>{try{(await(await fetch("/api/check-setup")).json()).needsSetup&&n(!1)}catch(d){console.error("Setup check failed",d)}})()},[]);const k=async l=>{l.preventDefault(),b(!0);try{const v=await fetch(i?"/api/login":"/api/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i?{username:u,password:x}:{username:u,password:x,name:f})}),w=await v.json();if(!v.ok)throw new Error(w.error||(i?"Giriş uğursuz oldu":"Quraşdırma uğursuz oldu"));i?(localStorage.setItem("forsaj_admin_token",w.token),localStorage.setItem("forsaj_admin_user",JSON.stringify(w.user)),t(w.user),y.success("Xoş gəldiniz!")):(y.success("Baza uğurla başladıldı! İndi daxil ola bilərsiniz."),n(!0))}catch(d){y.error(d.message||"Əməliyyat uğursuz oldu")}finally{b(!1)}};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-card fade-in",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:i?e.jsx(ka,{size:40,className:"logo-icon"}):e.jsx(Ns,{size:40,className:"logo-icon"})}),e.jsx("h1",{children:i?"Forsaj İdarəetmə Paneli":"Sistem Quraşdırılması"}),e.jsx("p",{children:i?"Sistemə daxil olmaq üçün məlumatlarınızı daxil edin":"İlkin Baş Admin hesabını yaradaraq sistemi başladın"})]}),e.jsxs("form",{className:"login-form",onSubmit:k,children:[!i&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Le,{size:16})," Tam Adınız"]}),e.jsx("input",{type:"text",value:f,onChange:l=>g(l.target.value),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Le,{size:16})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:u,onChange:l=>m(l.target.value),placeholder:"Məs: admin",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ns,{size:16})," Şifrə"]}),e.jsx("input",{type:"password",value:x,onChange:l=>o(l.target.value),placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",className:"login-btn",disabled:h,children:h?e.jsxs("div",{className:"loader-container",children:[e.jsx(mt,{className:"animate-spin",size:20}),e.jsx("span",{children:"Gözləyin..."})]}):i?"Daxil ol":"Sistemi başlat"})]}),e.jsx("div",{className:"login-footer",children:e.jsx("p",{children:"© 2026 Forsaj Club. Platformanın təhlükəsizliyi üçün mütəmadi olaraq şifrənizi yeniləyin."})})]})})},zi=()=>{const[t,i]=p.useState([]),[n,u]=p.useState(null),[m,x]=p.useState(!0),[o,f]=p.useState("all"),g=async()=>{const d=localStorage.getItem("forsaj_admin_token");try{const S=await fetch("/api/applications",{headers:{Authorization:`Bearer ${d}`}});if(S.ok){const v=await S.json();i(v)}}catch{y.error("Müraciətlər yüklənərkən xəta baş verdi")}finally{x(!1)}};p.useEffect(()=>{g()},[]);const h=async d=>{const S=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${d}/read`,{method:"POST",headers:{Authorization:`Bearer ${S}`}})).ok&&(i(w=>w.map(A=>A.id===d?{...A,status:"read"}:A)),n?.id===d&&u(w=>w?{...w,status:"read"}:null))}catch(v){console.error(v)}},b=async d=>{if(!window.confirm("Bu müraciəti silmək istədiyinizə əminsiniz?"))return;const S=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${S}`}})).ok&&(i(w=>w.filter(A=>A.id!==d)),n?.id===d&&u(null),y.success("Müraciət silindi"))}catch{y.error("Silinmə zamanı xəta baş verdi")}},k=t.filter(d=>o==="unread"?d.status==="unread":o==="read"?d.status==="read":!0),l=d=>{try{const S=JSON.parse(d);return e.jsx("div",{className:"app-details-grid",children:Object.entries(S).map(([v,w])=>e.jsxs("div",{className:"detail-item",children:[e.jsxs("span",{className:"detail-label",children:[v.toUpperCase(),":"]}),e.jsx("span",{className:"detail-value",children:String(w)})]},v))})}catch{return e.jsx("div",{className:"detail-text",children:d})}};return m?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"applications-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Müraciətlər"}),e.jsx("p",{children:"İstifadəçilər tərəfindən göndərilən formlar və qeydiyyatlar"})]}),e.jsxs("div",{className:"filter-tabs",children:[e.jsx("button",{className:o==="all"?"active":"",onClick:()=>f("all"),children:"Hamısı"}),e.jsx("button",{className:o==="unread"?"active":"",onClick:()=>f("unread"),children:"Oxunmamış"}),e.jsx("button",{className:o==="read"?"active":"",onClick:()=>f("read"),children:"Oxunmuş"})]})]}),e.jsxs("div",{className:"manager-body",children:[e.jsx("div",{className:"applications-list",children:k.length===0?e.jsx("div",{className:"empty-list",children:"Heç bir müraciət tapılmadı"}):k.map(d=>e.jsxs("div",{className:`application-item ${d.status} ${n?.id===d.id?"selected":""}`,onClick:()=>{u(d),d.status==="unread"&&h(d.id)},children:[e.jsx("div",{className:"app-item-icon",children:d.status==="unread"?e.jsx(rt,{className:"icon-unread"}):e.jsx(wa,{className:"icon-read"})}),e.jsxs("div",{className:"app-item-main",children:[e.jsxs("div",{className:"app-item-header",children:[e.jsx("span",{className:"app-item-name",children:d.name}),e.jsx("span",{className:"app-item-date",children:new Date(d.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"app-item-type",children:d.type})]}),e.jsx(tt,{size:16,className:"chevron"})]},d.id))}),e.jsx("div",{className:"application-details",children:n?e.jsxs("div",{className:"details-card fade-in",children:[e.jsxs("div",{className:"details-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Müraciət Təfərrüatları"}),e.jsx("span",{className:`status-badge ${n.status}`,children:n.status==="unread"?"Yeni":"Oxunub"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-delete",onClick:()=>b(n.id),children:e.jsx(U,{size:18})})})]}),e.jsxs("div",{className:"details-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Le,{size:16})," Göndərən"]}),e.jsx("p",{children:n.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(nt,{size:16})," Əlaqə"]}),e.jsx("p",{children:n.contact})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Oe,{size:16})," Kateqoriya"]}),e.jsx("p",{children:n.type})]})]}),e.jsxs("div",{className:"details-content",children:[e.jsx("label",{children:"Məzmun"}),e.jsx("div",{className:"content-box",children:l(n.content)})]})]}):e.jsxs("div",{className:"details-placeholder",children:[e.jsx(it,{size:48}),e.jsx("p",{children:"Baxmaq üçün siyahıdan müraciət seçin"})]})})]})]})},Ti=()=>{const[t,i]=p.useState([]),[n,u]=p.useState(!1),[m,x]=p.useState(!0),o=ws(),f=async()=>{try{const d=await(await fetch("/api/site-content")).json();i(d),x(!1)}catch{y.error("Ayarlar yüklənərkən xəta baş verdi")}};p.useEffect(()=>{f()},[]),p.useEffect(()=>{if(m)return;const d=new URLSearchParams(o.search).get("tab"),v=d?{seo:"seo-basic",general:"branding",contact:"contact-details",social:"social-links",stats:"stats"}[d]:"";v&&setTimeout(()=>{const w=document.querySelector(`[data-settings-section="${v}"]`);w&&w.scrollIntoView({behavior:"smooth",block:"start"})},50)},[o.search,m]);const g=(l,d,S=!1)=>{const v=[...t];let w=v.findIndex(A=>A.id==="general");if(w===-1&&(v.push({id:"general",title:"SİSTEM AYARLARI",sections:[],images:[]}),w=v.length-1),S){const A=v[w].images.findIndex(I=>I.id===l);A===-1?v[w].images.push({id:l,path:d,alt:l,type:"local"}):v[w].images[A].path=d}else{const A=v[w].sections.findIndex(I=>I.id===l);A===-1?v[w].sections.push({id:l,type:"text",label:l,value:d}):v[w].sections[A].value=d}i(v)},h=(l,d=!1)=>{const S=t.find(v=>v.id==="general");return S?d?S.images.find(v=>v.id===l)?.path||"":S.sections.find(v=>v.id===l)?.value||"":""},b=async(l,d)=>{const S=l.target.files?.[0];if(!S)return;const v=new FormData;v.append("image",S);const w=y.loading("Şəkil yüklənir...");try{const A=await fetch("/api/upload-image",{method:"POST",body:v});if(A.ok){const I=await A.json();g(d,I.url,!0),y.success("Şəkil yükləndi",{id:w})}}catch{y.error("Yükləmə xətası",{id:w})}},k=async()=>{u(!0);const l=y.loading("Yadda saxlanılır...");try{await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),y.success("Ayarlar qeyd edildi!",{id:l})}catch{y.error("Xəta baş verdi",{id:l})}finally{u(!1)}};return m?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"general-settings fade-in",children:[e.jsxs("div",{className:"settings-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Sistem Ayarları"}),e.jsx("p",{children:"SEO, Brendinq və ümumi sayt tənzimləmələri"})]}),e.jsxs("button",{className:"save-btn",onClick:k,disabled:n,children:[e.jsx(As,{size:18}),e.jsx("span",{children:"Yadda Saxla"})]})]}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"seo-basic",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ee,{size:20,className:"text-blue-500"}),e.jsx("h2",{children:"SEO və axtarış motoru"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta başlıq (sayt adı)"}),e.jsx("input",{type:"text",value:h("SEO_TITLE"),onChange:l=>g("SEO_TITLE",l.target.value),placeholder:"Məs: Forsaj Club - Offroad & Motorsport"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta təsvir"}),e.jsx("textarea",{value:h("SEO_DESCRIPTION"),onChange:l=>g("SEO_DESCRIPTION",l.target.value),placeholder:"Sayt haqqında qısa məlumat..."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Açar sözlər"}),e.jsx("input",{type:"text",value:h("SEO_KEYWORDS"),onChange:l=>g("SEO_KEYWORDS",l.target.value),placeholder:"offroad, baki, yarış, mitsubishi, pajero"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Kanonik URL"}),e.jsx("input",{type:"text",value:h("SEO_CANONICAL_URL"),onChange:l=>g("SEO_CANONICAL_URL",l.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Robots direktivi"}),e.jsx("input",{type:"text",value:h("SEO_ROBOTS"),onChange:l=>g("SEO_ROBOTS",l.target.value),placeholder:"index,follow"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Müəllif"}),e.jsx("input",{type:"text",value:h("SEO_AUTHOR"),onChange:l=>g("SEO_AUTHOR",l.target.value),placeholder:"Forsaj Club"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Dil (html lang)"}),e.jsx("input",{type:"text",value:h("SEO_LANGUAGE"),onChange:l=>g("SEO_LANGUAGE",l.target.value),placeholder:"az"})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"seo-social",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ee,{size:20,className:"text-cyan-500"}),e.jsx("h2",{children:"Sosial paylaşım SEO (OG / Twitter)"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG başlıq"}),e.jsx("input",{type:"text",value:h("SEO_OG_TITLE"),onChange:l=>g("SEO_OG_TITLE",l.target.value),placeholder:"Sosial şəbəkə başlığı"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG təsvir"}),e.jsx("textarea",{value:h("SEO_OG_DESCRIPTION"),onChange:l=>g("SEO_OG_DESCRIPTION",l.target.value),placeholder:"Sosial şəbəkə paylaşım təsviri"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG URL"}),e.jsx("input",{type:"text",value:h("SEO_OG_URL"),onChange:l=>g("SEO_OG_URL",l.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter kart növü"}),e.jsx("input",{type:"text",value:h("SEO_TWITTER_CARD"),onChange:l=>g("SEO_TWITTER_CARD",l.target.value),placeholder:"summary_large_image"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter hesabı (site)"}),e.jsx("input",{type:"text",value:h("SEO_TWITTER_SITE"),onChange:l=>g("SEO_TWITTER_SITE",l.target.value),placeholder:"@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter müəllif"}),e.jsx("input",{type:"text",value:h("SEO_TWITTER_CREATOR"),onChange:l=>g("SEO_TWITTER_CREATOR",l.target.value),placeholder:"@forsajclub"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"140px"},children:h("SEO_OG_IMAGE",!0)?e.jsx("img",{src:h("SEO_OG_IMAGE",!0),alt:"OG Şəkli"}):e.jsx("div",{className:"no-logo",children:"OG şəkli yoxdur"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(vs,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:l=>b(l,"SEO_OG_IMAGE")})]}),e.jsx("input",{type:"text",value:h("SEO_OG_IMAGE",!0),onChange:l=>g("SEO_OG_IMAGE",l.target.value,!0),placeholder:"https://forsaj.az/og-cover.jpg"})]})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"seo-verify",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Xs,{size:20,className:"text-violet-500"}),e.jsx("h2",{children:"Axtarış motoru təsdiqləri"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Google təsdiq kodu"}),e.jsx("input",{type:"text",value:h("SEO_GOOGLE_VERIFICATION"),onChange:l=>g("SEO_GOOGLE_VERIFICATION",l.target.value),placeholder:"google-site-verification kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bing təsdiq kodu"}),e.jsx("input",{type:"text",value:h("SEO_BING_VERIFICATION"),onChange:l=>g("SEO_BING_VERIFICATION",l.target.value),placeholder:"msvalidate.01 kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yandex təsdiq kodu"}),e.jsx("input",{type:"text",value:h("SEO_YANDEX_VERIFICATION"),onChange:l=>g("SEO_YANDEX_VERIFICATION",l.target.value),placeholder:"yandex-verification kodu"})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"branding",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Z,{size:20,className:"text-orange-500"}),e.jsx("h2",{children:"Brendinq & Loqo"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"logo-upload-grid",children:[e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Əsas Loqo (Light)"}),e.jsx("div",{className:"logo-preview",children:h("SITE_LOGO_LIGHT",!0)?e.jsx("img",{src:h("SITE_LOGO_LIGHT",!0),alt:"Logo Light"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(vs,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:l=>b(l,"SITE_LOGO_LIGHT")})]})]}),e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Alternativ Loqo (Dark)"}),e.jsx("div",{className:"logo-preview dark-bg",children:h("SITE_LOGO_DARK",!0)?e.jsx("img",{src:h("SITE_LOGO_DARK",!0),alt:"Logo Dark"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(vs,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:l=>b(l,"SITE_LOGO_DARK")})]})]})]})})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"contact-details",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Z,{size:20,className:"text-red-500"}),e.jsx("h2",{children:"Əlaqə & Ünvan Məlumatları"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 1)"}),e.jsx("input",{type:"text",value:h("CONTACT_ADDRESS_1"),onChange:l=>g("CONTACT_ADDRESS_1",l.target.value),placeholder:"Məs: AZADLIQ 102, BAKI"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 2)"}),e.jsx("input",{type:"text",value:h("CONTACT_ADDRESS_2"),onChange:l=>g("CONTACT_ADDRESS_2",l.target.value),placeholder:"Məs: AZƏRBAYCAN // SECTOR_01"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"İş Saatları"}),e.jsx("input",{type:"text",value:h("CONTACT_HOURS"),onChange:l=>g("CONTACT_HOURS",l.target.value),placeholder:"Məs: 09:00 - 18:00"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə Nömrəsi"}),e.jsx("input",{type:"text",value:h("CONTACT_PHONE"),onChange:l=>g("CONTACT_PHONE",l.target.value),placeholder:"+994 50 000 00 00"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə E-poçtu"}),e.jsx("input",{type:"text",value:h("CONTACT_EMAIL"),onChange:l=>g("CONTACT_EMAIL",l.target.value),placeholder:"info@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"departments",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Ca,{size:20,className:"text-purple-500"}),e.jsx("h2",{children:"Şöbə E-poçtları"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis (HQ)"}),e.jsx("input",{type:"text",value:h("DEPT_HQ_EMAIL"),onChange:l=>g("DEPT_HQ_EMAIL",l.target.value),placeholder:"hq@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Media və PR"}),e.jsx("input",{type:"text",value:h("DEPT_PR_EMAIL"),onChange:l=>g("DEPT_PR_EMAIL",l.target.value),placeholder:"pr@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Texniki Dəstək"}),e.jsx("input",{type:"text",value:h("DEPT_TECH_EMAIL"),onChange:l=>g("DEPT_TECH_EMAIL",l.target.value),placeholder:"tech@forsaj.az"})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"social-links",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ee,{size:20,className:"text-pink-500"}),e.jsx("h2",{children:"Sosial Media Linkləri"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Instagram"}),e.jsx("input",{type:"text",value:h("SOCIAL_INSTAGRAM"),onChange:l=>g("SOCIAL_INSTAGRAM",l.target.value),placeholder:"https://instagram.com/forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Youtube"}),e.jsx("input",{type:"text",value:h("SOCIAL_YOUTUBE"),onChange:l=>g("SOCIAL_YOUTUBE",l.target.value),placeholder:"https://youtube.com/@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Facebook"}),e.jsx("input",{type:"text",value:h("SOCIAL_FACEBOOK"),onChange:l=>g("SOCIAL_FACEBOOK",l.target.value),placeholder:"https://facebook.com/forsajclub"})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"stats",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Xs,{size:20,className:"text-green-500"}),e.jsx("h2",{children:"Sayt Statistikaları"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"stats-edit-grid",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Pilot Sayı"}),e.jsx("input",{type:"text",value:h("STATS_PILOTS"),onChange:l=>g("STATS_PILOTS",l.target.value),placeholder:"Susmaya görə: 140+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yarış Sayı"}),e.jsx("input",{type:"text",value:h("STATS_RACES"),onChange:l=>g("STATS_RACES",l.target.value),placeholder:"Susmaya görə: 50+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Gənc İştirakçı"}),e.jsx("input",{type:"text",value:h("STATS_YOUTH"),onChange:l=>g("STATS_YOUTH",l.target.value),placeholder:"Susmaya görə: 20+"})]})]})})]})]})]})},Ee=t=>t.toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Ei={DASHBOARD:"Panel Ana Səhifə","ANA SƏHİFƏ":"Sayt Məzmunu",HAQQIMIZDA:"Haqqımızda",XƏBƏRLƏR:"Xəbərlər",TƏDBİRLƏR:"Tədbirlər",SÜRÜCÜLƏR:"Sürücülər",QALEREYA:"Qalereya",QAYDALAR:"Qaydalar",ƏLAQƏ:"Əlaqə","ADMİN HESABLARI":"İstifadəçi İdarəsi","SİSTEM AYARLARI":"Frontend Ayarları"},Oi={"Ümumi Görünüş":"Ana Səhifə Blokları",Naviqasiya:"Menyu və Naviqasiya","Giriş Hissəsi":"Hero Bölməsi","Sürüşən Yazı":"Marquee Yazısı","Sayt Sonu":"Footer","Xəbər Siyahısı":"Xəbər Məzmunu","Xəbər Səhifəsi":"Xəbər Səhifəsi Mətni","Tədbir Təqvimi":"Tədbir Siyahısı","Tədbir Səhifəsi":"Tədbir Səhifəsi Mətni","Sürücü Reytinqi":"Sürücü Cədvəli","Sürücülər Səhifəsi":"Sürücülər Səhifəsi Mətni"},Ri=t=>{const i=Ei[t.title]||t.title;return{...t,title:i,children:t.children?.map(n=>({...n,title:Oi[n.title]||n.title}))}},Li=()=>{const[t,i]=p.useState(null),[n,u]=p.useState([]),[m,x]=p.useState(0),[o,f]=p.useState(!0);if(p.useEffect(()=>{const h=localStorage.getItem("forsaj_admin_user"),b=localStorage.getItem("forsaj_admin_token");i(h&&b?JSON.parse(h):null),f(!1)},[]),p.useEffect(()=>{const h=async()=>{const k=localStorage.getItem("forsaj_admin_token");if(k)try{const l=await fetch("/api/applications/unread-count",{headers:{Authorization:`Bearer ${k}`}});if(l.ok){const{count:S}=await l.json();x(S)}const d=await fetch(`/api/sitemap?v=${Date.now()}`);if(d.ok){const S=await d.json();let v=Array.isArray(S)?S:[];v=v.map(I=>I?.path==="/frontend-settings"?{...I,title:"Frontend Ayarları"}:I),v=v.map(I=>Ri(I));const w=v.find(I=>I.path==="/applications");w?m>0&&(w.badge={text:m.toString(),color:"bg-red-500"}):v=[...v,{title:"Müraciətlər",path:"/applications",icon:"Inbox",badge:m>0?{text:m.toString(),color:"bg-red-500"}:void 0}],v=v.filter(I=>{const E=Ee(I?.title||""),G=Ee(I?.id||""),ge=Ee(I?.path||"");return!(E==="sistem ayarlari"||E==="system settings"||(G==="general"||G==="settings"||G==="sistem-ayarlari")||(ge==="/general-settings"||ge==="/settings"))}),v=[...v,{title:"Sistem Ayarları",icon:"Settings",children:[{title:"SEO Ayarları",path:"/general-settings?tab=seo",icon:"Globe"},{title:"Ümumi Ayarlar",path:"/general-settings?tab=general",icon:"Settings"},{title:"Əlaqə və Sosial",path:"/general-settings?tab=contact",icon:"Phone"}]}];const A=new Map;for(const I of v){const E=`${Ee(I.path||"")}|${Ee(I.title||"")}`;A.set(E,I)}u(Array.from(A.values()))}}catch(l){console.error("Fetch data failed",l)}finally{f(!1)}};h();const b=setInterval(h,3e4);return()=>clearInterval(b)},[t,m]),o)return e.jsx("div",{style:{display:"flex",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",background:"#f4f6f9",color:"#3b82f6",fontSize:"1.2rem",fontWeight:"600"},children:"Yüklənir..."});const g=!n||n.length===0;return e.jsx(Xt,{basename:"/admin",children:e.jsxs("div",{className:"app-container",children:[e.jsx(fi,{containerStyle:{zIndex:10001},position:"top-right",reverseOrder:!1}),t?e.jsxs(e.Fragment,{children:[e.jsx(Ia,{menuItems:n,user:t,onLogout:()=>{localStorage.removeItem("forsaj_admin_user"),i(null)}}),e.jsxs("main",{className:"main-content",children:[e.jsx(za,{user:t}),e.jsx("div",{className:"content-body",children:e.jsx(Jt,{children:g?e.jsx(ue,{path:"*",element:e.jsx(Ai,{})}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{path:"/",element:e.jsx(ki,{})}),e.jsx(ue,{path:"/applications",element:e.jsx(zi,{})}),e.jsx(ue,{path:"/general-settings",element:e.jsx(Ti,{})}),e.jsx(ue,{path:"/users-management",element:e.jsx(Ci,{currentUser:t})}),e.jsx(ue,{path:"/frontend-settings",element:t.role==="master"?e.jsx(wi,{}):e.jsxs("div",{className:"fade-in",children:[e.jsx("h1",{children:"İcazə yoxdur"}),e.jsx("p",{children:"Bu səhifə yalnız Baş Admin üçündür."})]})}),e.jsx(ue,{path:"*",element:e.jsx("div",{className:"fade-in",children:e.jsx("h1",{children:"Səhifə tapılmadı"})})})]})})})]})]}):e.jsx(Ii,{onLogin:i})]})})};ea.createRoot(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(Li,{})}));
